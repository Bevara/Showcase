(()=>{var Ke={316:()=>{!function(){"use strict";var ae=function(L,q){var Y=function(re){for(var oe=0,ue=re.length;oe<ue;oe++)X(re[oe])},X=function(re){var oe=re.target,ue=re.attributeName;oe.attributeChangedCallback(ue,re.oldValue,oe.getAttribute(ue))};return function(re,oe){var ue=re.constructor.observedAttributes;return ue&&L(oe).then(function(){new q(Y).observe(re,{attributes:!0,attributeOldValue:!0,attributeFilter:ue});for(var pe=0,ee=ue.length;pe<ee;pe++)re.hasAttribute(ue[pe])&&X({target:re,attributeName:ue[pe],oldValue:null})}),re}};function $(L,q){(null==q||q>L.length)&&(q=L.length);for(var Y=0,X=new Array(q);Y<q;Y++)X[Y]=L[Y];return X}function Q(L,q){var Y=typeof Symbol<"u"&&L[Symbol.iterator]||L["@@iterator"];if(!Y){if(Array.isArray(L)||(Y=function(ee,le){if(ee){if("string"==typeof ee)return $(ee,void 0);var fe=Object.prototype.toString.call(ee).slice(8,-1);return"Object"===fe&&ee.constructor&&(fe=ee.constructor.name),"Map"===fe||"Set"===fe?Array.from(ee):"Arguments"===fe||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(fe)?$(ee,void 0):void 0}}(L))||q&&L&&"number"==typeof L.length){Y&&(L=Y);var X=0,re=function(){};return{s:re,n:function(){return X>=L.length?{done:!0}:{done:!1,value:L[X++]}},e:function(ee){throw ee},f:re}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var oe,ue=!0,pe=!1;return{s:function(){Y=Y.call(L)},n:function(){var ee=Y.next();return ue=ee.done,ee},e:function(ee){pe=!0,oe=ee},f:function(){try{ue||null==Y.return||Y.return()}finally{if(pe)throw oe}}}}var y=!0,z=!1,k="querySelectorAll",d="querySelectorAll",l=self,e=l.document,i=l.Element,p=l.MutationObserver,m=l.Set,f=l.WeakMap,v=function(L){return d in L},a=[].filter,_=function(L){var q=new f,Y=function(ee,le){var fe,we;if(le)for(var ve,je=(we=ee).matches||we.webkitMatchesSelector||we.msMatchesSelector,Ee=0,He=re.length;Ee<He;Ee++)je.call(ee,ve=re[Ee])&&(q.has(ee)||q.set(ee,new m),(fe=q.get(ee)).has(ve)||(fe.add(ve),L.handle(ee,le,ve)));else q.has(ee)&&(fe=q.get(ee),q.delete(ee),fe.forEach(function(we){L.handle(ee,le,we)}))},X=function(ee){for(var le=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],fe=0,ve=ee.length;fe<ve;fe++)Y(ee[fe],le)},re=L.query,oe=L.root||e,ue=function(ee){var le=arguments.length>1&&void 0!==arguments[1]?arguments[1]:document,fe=arguments.length>2&&void 0!==arguments[2]?arguments[2]:MutationObserver,ve=arguments.length>3&&void 0!==arguments[3]?arguments[3]:["*"],je=function we(Fe,Ue,Ce,Re,ye,Ne){var We,Ie=Q(Fe);try{for(Ie.s();!(We=Ie.n()).done;){var _e=We.value;(Ne||k in _e)&&(ye?Ce.has(_e)||(Ce.add(_e),Re.delete(_e),ee(_e,ye)):Re.has(_e)||(Re.add(_e),Ce.delete(_e),ee(_e,ye)),Ne||we(_e[k](Ue),Ue,Ce,Re,ye,y))}}catch(Ve){Ie.e(Ve)}finally{Ie.f()}},Ee=new fe(function(we){if(ve.length){var Fe,Ue=ve.join(","),Ce=new Set,Re=new Set,ye=Q(we);try{for(ye.s();!(Fe=ye.n()).done;){var Ne=Fe.value,We=Ne.addedNodes;je(Ne.removedNodes,Ue,Ce,Re,z,z),je(We,Ue,Ce,Re,y,z)}}catch(_e){ye.e(_e)}finally{ye.f()}}}),He=Ee.observe;return(Ee.observe=function(we){return He.call(Ee,we,{subtree:y,childList:y})})(le),Ee}(Y,oe,p,re),pe=i.prototype.attachShadow;return pe&&(i.prototype.attachShadow=function(ee){var le=pe.call(this,ee);return ue.observe(le),le}),re.length&&X(oe[d](re)),{drop:function(ee){for(var le=0,fe=ee.length;le<fe;le++)q.delete(ee[le])},flush:function(){for(var ee=ue.takeRecords(),le=0,fe=ee.length;le<fe;le++)X(a.call(ee[le].removedNodes,v),!1),X(a.call(ee[le].addedNodes,v),!0)},observer:ue,parse:X}},n=self,o=n.document,c=n.Map,b=n.MutationObserver,A=n.Object,x=n.Set,w=n.WeakMap,R=n.Element,C=n.HTMLElement,N=n.Node,T=n.Error,h=n.TypeError,S=n.Reflect,r=A.defineProperty,D=A.keys,F=A.getOwnPropertyNames,E=A.setPrototypeOf,J=!self.customElements,Z=function(L){for(var q=D(L),Y=[],X=new x,re=q.length,oe=0;oe<re;oe++){Y[oe]=L[q[oe]];try{delete L[q[oe]]}catch{X.add(oe)}}return function(){for(var ue=0;ue<re;ue++)X.has(ue)||(L[q[ue]]=Y[ue])}};if(J){var V=function(){var L=this.constructor;if(!I.has(L))throw new h("Illegal constructor");var q=I.get(L);if(t)return g(t,q);var Y=U.call(o,q);return g(E(Y,L.prototype),q)},U=o.createElement,I=new c,ie=new c,te=new c,H=new c,se=[],de=_({query:se,handle:function(L,q,Y){var X=te.get(Y);if(q&&!X.isPrototypeOf(L)){var re=Z(L);t=E(L,X);try{new X.constructor}finally{t=null,re()}}var oe="".concat(q?"":"dis","connectedCallback");oe in X&&L[oe]()}}).parse,t=null,s=function(L){if(!ie.has(L)){var q,Y=new Promise(function(X){q=X});ie.set(L,{$:Y,_:q})}return ie.get(L).$},g=ae(s,b);self.customElements={define:function(L,q){if(H.has(L))throw new T('the name "'.concat(L,'" has already been used with this registry'));I.set(q,L),te.set(L,q.prototype),H.set(L,q),se.push(L),s(L).then(function(){de(o.querySelectorAll(L))}),ie.get(L)._(q)},get:function(L){return H.get(L)},whenDefined:s},r(V.prototype=C.prototype,"constructor",{value:V}),self.HTMLElement=V,o.createElement=function(L,q){var X=H.get(q&&q.is||L);return X?new X:U.call(o,L)},"isConnected"in N.prototype||r(N.prototype,"isConnected",{configurable:!0,get:function(){return!(this.ownerDocument.compareDocumentPosition(this)&this.DOCUMENT_POSITION_DISCONNECTED)}})}else if(J=!self.customElements.get("extends-br"))try{var u=function L(){return self.Reflect.construct(HTMLBRElement,[],L)};u.prototype=HTMLLIElement.prototype;var W="extends-br";self.customElements.define("extends-br",u,{extends:"br"}),J=o.createElement("br",{is:W}).outerHTML.indexOf(W)<0;var O=self.customElements,P=O.get,j=O.whenDefined;self.customElements.whenDefined=function(L){var q=this;return j.call(this,L).then(function(Y){return Y||P.call(q,L)})}}catch{}if(J){var B=function(L){var q=he.get(L);xe(q.querySelectorAll(this),L.isConnected)},M=self.customElements,K=o.createElement,G=M.define,ne=M.get,me=M.upgrade,Se=(S||{construct:function(L){return L.call(this)}}).construct,he=new w,ke=new x,Ae=new c,ge=new c,De=new c,ze=new c,Le=[],Oe=[],Be=function(L){return ze.get(L)||ne.call(M,L)},xe=_({query:Oe,handle:function(L,q,Y){var X=De.get(Y);if(q&&!X.isPrototypeOf(L)){var re=Z(L);Pe=E(L,X);try{new X.constructor}finally{Pe=null,re()}}var oe="".concat(q?"":"dis","connectedCallback");oe in X&&L[oe]()}}).parse,Te=_({query:Le,handle:function(L,q){he.has(L)&&(q?ke.add(L):ke.delete(L),Oe.length&&B.call(Oe,L))}}).parse,Ge=R.prototype.attachShadow;Ge&&(R.prototype.attachShadow=function(L){var q=Ge.call(this,L);return he.set(this,q),q});var Me=function(L){if(!ge.has(L)){var q,Y=new Promise(function(X){q=X});ge.set(L,{$:Y,_:q})}return ge.get(L).$},Ze=ae(Me,b),Pe=null;F(self).filter(function(L){return/^HTML.*Element$/.test(L)}).forEach(function(L){var q=self[L];function Y(){var X=this.constructor;if(!Ae.has(X))throw new h("Illegal constructor");var re=Ae.get(X),oe=re.is,ue=re.tag;if(oe){if(Pe)return Ze(Pe,oe);var pe=K.call(o,ue);return pe.setAttribute("is",oe),Ze(E(pe,X.prototype),oe)}return Se.call(this,q,[],X)}r(Y.prototype=q.prototype,"constructor",{value:Y}),r(self,L,{value:Y})}),o.createElement=function(L,q){var Y=q&&q.is;if(Y){var X=ze.get(Y);if(X&&Ae.get(X).tag===L)return new X}var re=K.call(o,L);return Y&&re.setAttribute("is",Y),re},M.get=Be,M.whenDefined=Me,M.upgrade=function(L){var q=L.getAttribute("is");if(q){var Y=ze.get(q);if(Y)return void Ze(E(L,Y.prototype),q)}me.call(M,L)},M.define=function(L,q,Y){if(Be(L))throw new T("'".concat(L,"' has already been defined as a custom element"));var X,re=Y&&Y.extends;Ae.set(q,re?{is:L,tag:re}:{is:"",tag:L}),re?(X="".concat(re,'[is="').concat(L,'"]'),De.set(X,q.prototype),ze.set(L,q),Oe.push(X)):(G.apply(M,arguments),Le.push(X=L)),Me(L).then(function(){re?(xe(o.querySelectorAll(X)),ke.forEach(B,[X])):Te(o.querySelectorAll(X))}),ge.get(L)._(q)}}}()},710:(ae,$,Q)=>{ae.exports=function y(z,k,d){function l(p,m){if(!k[p]){if(!z[p]){if(e)return e(p,!0);var f=new Error("Cannot find module '"+p+"'");throw f.code="MODULE_NOT_FOUND",f}var v=k[p]={exports:{}};z[p][0].call(v.exports,function(a){return l(z[p][1][a]||a)},v,v.exports,y,z,k,d)}return k[p].exports}for(var e=void 0,i=0;i<d.length;i++)l(d[i]);return l}({1:[function(y,z,k){"use strict";var d=y("./utils"),l=y("./support"),e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";k.encode=function(i){for(var p,m,f,a,_,n,o=[],c=0,b=i.length,A=b,x="string"!==d.getTypeOf(i);c<i.length;)A=b-c,f=x?(p=i[c++],m=c<b?i[c++]:0,c<b?i[c++]:0):(p=i.charCodeAt(c++),m=c<b?i.charCodeAt(c++):0,c<b?i.charCodeAt(c++):0),a=(3&p)<<4|m>>4,_=1<A?(15&m)<<2|f>>6:64,n=2<A?63&f:64,o.push(e.charAt(p>>2)+e.charAt(a)+e.charAt(_)+e.charAt(n));return o.join("")},k.decode=function(i){var p,m,f,v,a,_,n=0,o=0;if("data:"===i.substr(0,5))throw new Error("Invalid base64 input, it looks like a data url.");var b,A=3*(i=i.replace(/[^A-Za-z0-9+/=]/g,"")).length/4;if(i.charAt(i.length-1)===e.charAt(64)&&A--,i.charAt(i.length-2)===e.charAt(64)&&A--,A%1!=0)throw new Error("Invalid base64 input, bad content length.");for(b=l.uint8array?new Uint8Array(0|A):new Array(0|A);n<i.length;)p=e.indexOf(i.charAt(n++))<<2|(v=e.indexOf(i.charAt(n++)))>>4,m=(15&v)<<4|(a=e.indexOf(i.charAt(n++)))>>2,f=(3&a)<<6|(_=e.indexOf(i.charAt(n++))),b[o++]=p,64!==a&&(b[o++]=m),64!==_&&(b[o++]=f);return b}},{"./support":30,"./utils":32}],2:[function(y,z,k){"use strict";var d=y("./external"),l=y("./stream/DataWorker"),e=y("./stream/Crc32Probe"),i=y("./stream/DataLengthProbe");function p(m,f,v,a,_){this.compressedSize=m,this.uncompressedSize=f,this.crc32=v,this.compression=a,this.compressedContent=_}p.prototype={getContentWorker:function(){var m=new l(d.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new i("data_length")),f=this;return m.on("end",function(){if(this.streamInfo.data_length!==f.uncompressedSize)throw new Error("Bug : uncompressed data size mismatch")}),m},getCompressedWorker:function(){return new l(d.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)}},p.createWorkerFrom=function(m,f,v){return m.pipe(new e).pipe(new i("uncompressedSize")).pipe(f.compressWorker(v)).pipe(new i("compressedSize")).withStreamInfo("compression",f)},z.exports=p},{"./external":6,"./stream/Crc32Probe":25,"./stream/DataLengthProbe":26,"./stream/DataWorker":27}],3:[function(y,z,k){"use strict";var d=y("./stream/GenericWorker");k.STORE={magic:"\0\0",compressWorker:function(){return new d("STORE compression")},uncompressWorker:function(){return new d("STORE decompression")}},k.DEFLATE=y("./flate")},{"./flate":7,"./stream/GenericWorker":28}],4:[function(y,z,k){"use strict";var d=y("./utils"),l=function(){for(var e,i=[],p=0;p<256;p++){e=p;for(var m=0;m<8;m++)e=1&e?3988292384^e>>>1:e>>>1;i[p]=e}return i}();z.exports=function(e,i){return void 0!==e&&e.length?"string"!==d.getTypeOf(e)?function(p,m,f,v){var a=l,_=0+f;p^=-1;for(var n=0;n<_;n++)p=p>>>8^a[255&(p^m[n])];return~p}(0|i,e,e.length):function(p,m,f,v){var a=l,_=0+f;p^=-1;for(var n=0;n<_;n++)p=p>>>8^a[255&(p^m.charCodeAt(n))];return~p}(0|i,e,e.length):0}},{"./utils":32}],5:[function(y,z,k){"use strict";k.base64=!1,k.binary=!1,k.dir=!1,k.createFolders=!0,k.date=null,k.compression=null,k.compressionOptions=null,k.comment=null,k.unixPermissions=null,k.dosPermissions=null},{}],6:[function(y,z,k){"use strict";var d;d=typeof Promise<"u"?Promise:y("lie"),z.exports={Promise:d}},{lie:37}],7:[function(y,z,k){"use strict";var d=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Uint32Array<"u",l=y("pako"),e=y("./utils"),i=y("./stream/GenericWorker"),p=d?"uint8array":"array";function m(f,v){i.call(this,"FlateWorker/"+f),this._pako=null,this._pakoAction=f,this._pakoOptions=v,this.meta={}}k.magic="\b\0",e.inherits(m,i),m.prototype.processChunk=function(f){this.meta=f.meta,null===this._pako&&this._createPako(),this._pako.push(e.transformTo(p,f.data),!1)},m.prototype.flush=function(){i.prototype.flush.call(this),null===this._pako&&this._createPako(),this._pako.push([],!0)},m.prototype.cleanUp=function(){i.prototype.cleanUp.call(this),this._pako=null},m.prototype._createPako=function(){this._pako=new l[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var f=this;this._pako.onData=function(v){f.push({data:v,meta:f.meta})}},k.compressWorker=function(f){return new m("Deflate",f)},k.uncompressWorker=function(){return new m("Inflate",{})}},{"./stream/GenericWorker":28,"./utils":32,pako:38}],8:[function(y,z,k){"use strict";function d(a,_){var n,o="";for(n=0;n<_;n++)o+=String.fromCharCode(255&a),a>>>=8;return o}function l(a,_,n,o,c,b){var A,x,w=a.file,R=a.compression,C=b!==p.utf8encode,N=e.transformTo("string",b(w.name)),T=e.transformTo("string",p.utf8encode(w.name)),h=w.comment,S=e.transformTo("string",b(h)),r=e.transformTo("string",p.utf8encode(h)),D=T.length!==w.name.length,F=r.length!==h.length,E="",J="",Z="",V=w.dir,U=w.date,I={crc32:0,compressedSize:0,uncompressedSize:0};_&&!n||(I.crc32=a.crc32,I.compressedSize=a.compressedSize,I.uncompressedSize=a.uncompressedSize);var ie=0;_&&(ie|=8),C||!D&&!F||(ie|=2048);var de,s,te=0,H=0;V&&(te|=16),"UNIX"===c?(H=798,te|=(s=de=w.unixPermissions,de||(s=V?16893:33204),(65535&s)<<16)):(H=20,te|=function(de){return 63&(de||0)}(w.dosPermissions)),A=U.getUTCHours(),A<<=6,A|=U.getUTCMinutes(),A<<=5,A|=U.getUTCSeconds()/2,x=U.getUTCFullYear()-1980,x<<=4,x|=U.getUTCMonth()+1,x<<=5,x|=U.getUTCDate(),D&&(J=d(1,1)+d(m(N),4)+T,E+="up"+d(J.length,2)+J),F&&(Z=d(1,1)+d(m(S),4)+r,E+="uc"+d(Z.length,2)+Z);var se="";return se+="\n\0",se+=d(ie,2),se+=R.magic,se+=d(A,2),se+=d(x,2),se+=d(I.crc32,4),se+=d(I.compressedSize,4),se+=d(I.uncompressedSize,4),se+=d(N.length,2),se+=d(E.length,2),{fileRecord:f.LOCAL_FILE_HEADER+se+N+E,dirRecord:f.CENTRAL_FILE_HEADER+d(H,2)+se+d(S.length,2)+"\0\0\0\0"+d(te,4)+d(o,4)+N+E+S}}var e=y("../utils"),i=y("../stream/GenericWorker"),p=y("../utf8"),m=y("../crc32"),f=y("../signature");function v(a,_,n,o){i.call(this,"ZipFileWorker"),this.bytesWritten=0,this.zipComment=_,this.zipPlatform=n,this.encodeFileName=o,this.streamFiles=a,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}e.inherits(v,i),v.prototype.push=function(a){var _=a.meta.percent||0,n=this.entriesCount,o=this._sources.length;this.accumulate?this.contentBuffer.push(a):(this.bytesWritten+=a.data.length,i.prototype.push.call(this,{data:a.data,meta:{currentFile:this.currentFile,percent:n?(_+100*(n-o-1))/n:100}}))},v.prototype.openedSource=function(a){this.currentSourceOffset=this.bytesWritten,this.currentFile=a.file.name;var _=this.streamFiles&&!a.file.dir;if(_){var n=l(a,_,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:n.fileRecord,meta:{percent:0}})}else this.accumulate=!0},v.prototype.closedSource=function(a){this.accumulate=!1;var o,_=this.streamFiles&&!a.file.dir,n=l(a,_,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(n.dirRecord),_)this.push({data:(o=a,f.DATA_DESCRIPTOR+d(o.crc32,4)+d(o.compressedSize,4)+d(o.uncompressedSize,4)),meta:{percent:100}});else for(this.push({data:n.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null},v.prototype.flush=function(){for(var a=this.bytesWritten,_=0;_<this.dirRecords.length;_++)this.push({data:this.dirRecords[_],meta:{percent:100}});var c,b,A,R,o=(c=this.dirRecords.length,b=this.bytesWritten-a,A=a,R=e.transformTo("string",(0,this.encodeFileName)(this.zipComment)),f.CENTRAL_DIRECTORY_END+"\0\0\0\0"+d(c,2)+d(c,2)+d(b,4)+d(A,4)+d(R.length,2)+R);this.push({data:o,meta:{percent:100}})},v.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},v.prototype.registerPrevious=function(a){this._sources.push(a);var _=this;return a.on("data",function(n){_.processChunk(n)}),a.on("end",function(){_.closedSource(_.previous.streamInfo),_._sources.length?_.prepareNextSource():_.end()}),a.on("error",function(n){_.error(n)}),this},v.prototype.resume=function(){return!!i.prototype.resume.call(this)&&(!this.previous&&this._sources.length?(this.prepareNextSource(),!0):this.previous||this._sources.length||this.generatedError?void 0:(this.end(),!0))},v.prototype.error=function(a){var _=this._sources;if(!i.prototype.error.call(this,a))return!1;for(var n=0;n<_.length;n++)try{_[n].error(a)}catch{}return!0},v.prototype.lock=function(){i.prototype.lock.call(this);for(var a=this._sources,_=0;_<a.length;_++)a[_].lock()},z.exports=v},{"../crc32":4,"../signature":23,"../stream/GenericWorker":28,"../utf8":31,"../utils":32}],9:[function(y,z,k){"use strict";var d=y("../compressions"),l=y("./ZipFileWorker");k.generateWorker=function(e,i,p){var m=new l(i.streamFiles,p,i.platform,i.encodeFileName),f=0;try{e.forEach(function(v,a){f++;var _=function(b,A){var x=b||A,w=d[x];if(!w)throw new Error(x+" is not a valid compression method !");return w}(a.options.compression,i.compression),o=a.dir,c=a.date;a._compressWorker(_,a.options.compressionOptions||i.compressionOptions||{}).withStreamInfo("file",{name:v,dir:o,date:c,comment:a.comment||"",unixPermissions:a.unixPermissions,dosPermissions:a.dosPermissions}).pipe(m)}),m.entriesCount=f}catch(v){m.error(v)}return m}},{"../compressions":3,"./ZipFileWorker":8}],10:[function(y,z,k){"use strict";function d(){if(!(this instanceof d))return new d;if(arguments.length)throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files=Object.create(null),this.comment=null,this.root="",this.clone=function(){var l=new d;for(var e in this)"function"!=typeof this[e]&&(l[e]=this[e]);return l}}(d.prototype=y("./object")).loadAsync=y("./load"),d.support=y("./support"),d.defaults=y("./defaults"),d.version="3.10.1",d.loadAsync=function(l,e){return(new d).loadAsync(l,e)},d.external=y("./external"),z.exports=d},{"./defaults":5,"./external":6,"./load":11,"./object":15,"./support":30}],11:[function(y,z,k){"use strict";var d=y("./utils"),l=y("./external"),e=y("./utf8"),i=y("./zipEntries"),p=y("./stream/Crc32Probe"),m=y("./nodejsUtils");function f(v){return new l.Promise(function(a,_){var n=v.decompressed.getContentWorker().pipe(new p);n.on("error",function(o){_(o)}).on("end",function(){n.streamInfo.crc32!==v.decompressed.crc32?_(new Error("Corrupted zip : CRC32 mismatch")):a()}).resume()})}z.exports=function(v,a){var _=this;return a=d.extend(a||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:e.utf8decode}),m.isNode&&m.isStream(v)?l.Promise.reject(new Error("JSZip can't accept a stream when loading a zip file.")):d.prepareContent("the loaded zip file",v,!0,a.optimizedBinaryString,a.base64).then(function(n){var o=new i(a);return o.load(n),o}).then(function(n){var o=[l.Promise.resolve(n)],c=n.files;if(a.checkCRC32)for(var b=0;b<c.length;b++)o.push(f(c[b]));return l.Promise.all(o)}).then(function(n){for(var o=n.shift(),c=o.files,b=0;b<c.length;b++){var A=c[b],x=A.fileNameStr,w=d.resolve(A.fileNameStr);_.file(w,A.decompressed,{binary:!0,optimizedBinaryString:!0,date:A.date,dir:A.dir,comment:A.fileCommentStr.length?A.fileCommentStr:null,unixPermissions:A.unixPermissions,dosPermissions:A.dosPermissions,createFolders:a.createFolders}),A.dir||(_.file(w).unsafeOriginalName=x)}return o.zipComment.length&&(_.comment=o.zipComment),_})}},{"./external":6,"./nodejsUtils":14,"./stream/Crc32Probe":25,"./utf8":31,"./utils":32,"./zipEntries":33}],12:[function(y,z,k){"use strict";var d=y("../utils"),l=y("../stream/GenericWorker");function e(i,p){l.call(this,"Nodejs stream input adapter for "+i),this._upstreamEnded=!1,this._bindStream(p)}d.inherits(e,l),e.prototype._bindStream=function(i){var p=this;(this._stream=i).pause(),i.on("data",function(m){p.push({data:m,meta:{percent:0}})}).on("error",function(m){p.isPaused?this.generatedError=m:p.error(m)}).on("end",function(){p.isPaused?p._upstreamEnded=!0:p.end()})},e.prototype.pause=function(){return!!l.prototype.pause.call(this)&&(this._stream.pause(),!0)},e.prototype.resume=function(){return!!l.prototype.resume.call(this)&&(this._upstreamEnded?this.end():this._stream.resume(),!0)},z.exports=e},{"../stream/GenericWorker":28,"../utils":32}],13:[function(y,z,k){"use strict";var d=y("readable-stream").Readable;function l(e,i,p){d.call(this,i),this._helper=e;var m=this;e.on("data",function(f,v){m.push(f)||m._helper.pause(),p&&p(v)}).on("error",function(f){m.emit("error",f)}).on("end",function(){m.push(null)})}y("../utils").inherits(l,d),l.prototype._read=function(){this._helper.resume()},z.exports=l},{"../utils":32,"readable-stream":16}],14:[function(y,z,k){"use strict";z.exports={isNode:typeof Buffer<"u",newBufferFrom:function(d,l){if(Buffer.from&&Buffer.from!==Uint8Array.from)return Buffer.from(d,l);if("number"==typeof d)throw new Error('The "data" argument must not be a number');return new Buffer(d,l)},allocBuffer:function(d){if(Buffer.alloc)return Buffer.alloc(d);var l=new Buffer(d);return l.fill(0),l},isBuffer:function(d){return Buffer.isBuffer(d)},isStream:function(d){return d&&"function"==typeof d.on&&"function"==typeof d.pause&&"function"==typeof d.resume}}},{}],15:[function(y,z,k){"use strict";function d(w,R,C){var N,r,T=e.getTypeOf(R),h=e.extend(C||{},m);h.date=h.date||new Date,null!==h.compression&&(h.compression=h.compression.toUpperCase()),"string"==typeof h.unixPermissions&&(h.unixPermissions=parseInt(h.unixPermissions,8)),h.unixPermissions&&16384&h.unixPermissions&&(h.dir=!0),h.dosPermissions&&16&h.dosPermissions&&(h.dir=!0),h.dir&&(w=c(w)),h.createFolders&&(N=o(w))&&b.call(this,N,!0),C&&void 0!==C.binary||(h.binary=!("string"===T&&!1===h.binary&&!1===h.base64)),(R instanceof f&&0===R.uncompressedSize||h.dir||!R||0===R.length)&&(h.base64=!1,h.binary=!0,R="",h.compression="STORE",T="string"),r=R instanceof f||R instanceof i?R:_.isNode&&_.isStream(R)?new n(w,R):e.prepareContent(w,R,h.binary,h.optimizedBinaryString,h.base64);var D=new v(w,r,h);this.files[w]=D}var l=y("./utf8"),e=y("./utils"),i=y("./stream/GenericWorker"),p=y("./stream/StreamHelper"),m=y("./defaults"),f=y("./compressedObject"),v=y("./zipObject"),a=y("./generate"),_=y("./nodejsUtils"),n=y("./nodejs/NodejsStreamInputAdapter"),o=function(w){"/"===w.slice(-1)&&(w=w.substring(0,w.length-1));var R=w.lastIndexOf("/");return 0<R?w.substring(0,R):""},c=function(w){return"/"!==w.slice(-1)&&(w+="/"),w},b=function(w,R){return R=void 0!==R?R:m.createFolders,w=c(w),this.files[w]||d.call(this,w,null,{dir:!0,createFolders:R}),this.files[w]};function A(w){return"[object RegExp]"===Object.prototype.toString.call(w)}var x={load:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},forEach:function(w){var R,C,N;for(R in this.files)N=this.files[R],(C=R.slice(this.root.length,R.length))&&R.slice(0,this.root.length)===this.root&&w(C,N)},filter:function(w){var R=[];return this.forEach(function(C,N){w(C,N)&&R.push(N)}),R},file:function(w,R,C){if(1!==arguments.length)return d.call(this,w=this.root+w,R,C),this;if(A(w)){var N=w;return this.filter(function(h,S){return!S.dir&&N.test(h)})}var T=this.files[this.root+w];return T&&!T.dir?T:null},folder:function(w){if(!w)return this;if(A(w))return this.filter(function(T,h){return h.dir&&w.test(T)});var C=b.call(this,this.root+w),N=this.clone();return N.root=C.name,N},remove:function(w){var R=this.files[w=this.root+w];if(R||("/"!==w.slice(-1)&&(w+="/"),R=this.files[w]),R&&!R.dir)delete this.files[w];else for(var C=this.filter(function(T,h){return h.name.slice(0,w.length)===w}),N=0;N<C.length;N++)delete this.files[C[N].name];return this},generate:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},generateInternalStream:function(w){var R,C={};try{if((C=e.extend(w||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:l.utf8encode})).type=C.type.toLowerCase(),C.compression=C.compression.toUpperCase(),"binarystring"===C.type&&(C.type="string"),!C.type)throw new Error("No output type specified.");e.checkSupport(C.type),"darwin"!==C.platform&&"freebsd"!==C.platform&&"linux"!==C.platform&&"sunos"!==C.platform||(C.platform="UNIX"),"win32"===C.platform&&(C.platform="DOS"),R=a.generateWorker(this,C,C.comment||this.comment||"")}catch(T){(R=new i("error")).error(T)}return new p(R,C.type||"string",C.mimeType)},generateAsync:function(w,R){return this.generateInternalStream(w).accumulate(R)},generateNodeStream:function(w,R){return(w=w||{}).type||(w.type="nodebuffer"),this.generateInternalStream(w).toNodejsStream(R)}};z.exports=x},{"./compressedObject":2,"./defaults":5,"./generate":9,"./nodejs/NodejsStreamInputAdapter":12,"./nodejsUtils":14,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31,"./utils":32,"./zipObject":35}],16:[function(y,z,k){"use strict";z.exports=y("stream")},{stream:void 0}],17:[function(y,z,k){"use strict";var d=y("./DataReader");function l(e){d.call(this,e);for(var i=0;i<this.data.length;i++)e[i]=255&e[i]}y("../utils").inherits(l,d),l.prototype.byteAt=function(e){return this.data[this.zero+e]},l.prototype.lastIndexOfSignature=function(e){for(var i=e.charCodeAt(0),p=e.charCodeAt(1),m=e.charCodeAt(2),f=e.charCodeAt(3),v=this.length-4;0<=v;--v)if(this.data[v]===i&&this.data[v+1]===p&&this.data[v+2]===m&&this.data[v+3]===f)return v-this.zero;return-1},l.prototype.readAndCheckSignature=function(e){var i=e.charCodeAt(0),p=e.charCodeAt(1),m=e.charCodeAt(2),f=e.charCodeAt(3),v=this.readData(4);return i===v[0]&&p===v[1]&&m===v[2]&&f===v[3]},l.prototype.readData=function(e){if(this.checkOffset(e),0===e)return[];var i=this.data.slice(this.zero+this.index,this.zero+this.index+e);return this.index+=e,i},z.exports=l},{"../utils":32,"./DataReader":18}],18:[function(y,z,k){"use strict";var d=y("../utils");function l(e){this.data=e,this.length=e.length,this.index=0,this.zero=0}l.prototype={checkOffset:function(e){this.checkIndex(this.index+e)},checkIndex:function(e){if(this.length<this.zero+e||e<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+e+"). Corrupted zip ?")},setIndex:function(e){this.checkIndex(e),this.index=e},skip:function(e){this.setIndex(this.index+e)},byteAt:function(){},readInt:function(e){var i,p=0;for(this.checkOffset(e),i=this.index+e-1;i>=this.index;i--)p=(p<<8)+this.byteAt(i);return this.index+=e,p},readString:function(e){return d.transformTo("string",this.readData(e))},readData:function(){},lastIndexOfSignature:function(){},readAndCheckSignature:function(){},readDate:function(){var e=this.readInt(4);return new Date(Date.UTC(1980+(e>>25&127),(e>>21&15)-1,e>>16&31,e>>11&31,e>>5&63,(31&e)<<1))}},z.exports=l},{"../utils":32}],19:[function(y,z,k){"use strict";var d=y("./Uint8ArrayReader");function l(e){d.call(this,e)}y("../utils").inherits(l,d),l.prototype.readData=function(e){this.checkOffset(e);var i=this.data.slice(this.zero+this.index,this.zero+this.index+e);return this.index+=e,i},z.exports=l},{"../utils":32,"./Uint8ArrayReader":21}],20:[function(y,z,k){"use strict";var d=y("./DataReader");function l(e){d.call(this,e)}y("../utils").inherits(l,d),l.prototype.byteAt=function(e){return this.data.charCodeAt(this.zero+e)},l.prototype.lastIndexOfSignature=function(e){return this.data.lastIndexOf(e)-this.zero},l.prototype.readAndCheckSignature=function(e){return e===this.readData(4)},l.prototype.readData=function(e){this.checkOffset(e);var i=this.data.slice(this.zero+this.index,this.zero+this.index+e);return this.index+=e,i},z.exports=l},{"../utils":32,"./DataReader":18}],21:[function(y,z,k){"use strict";var d=y("./ArrayReader");function l(e){d.call(this,e)}y("../utils").inherits(l,d),l.prototype.readData=function(e){if(this.checkOffset(e),0===e)return new Uint8Array(0);var i=this.data.subarray(this.zero+this.index,this.zero+this.index+e);return this.index+=e,i},z.exports=l},{"../utils":32,"./ArrayReader":17}],22:[function(y,z,k){"use strict";var d=y("../utils"),l=y("../support"),e=y("./ArrayReader"),i=y("./StringReader"),p=y("./NodeBufferReader"),m=y("./Uint8ArrayReader");z.exports=function(f){var v=d.getTypeOf(f);return d.checkSupport(v),"string"!==v||l.uint8array?"nodebuffer"===v?new p(f):l.uint8array?new m(d.transformTo("uint8array",f)):new e(d.transformTo("array",f)):new i(f)}},{"../support":30,"../utils":32,"./ArrayReader":17,"./NodeBufferReader":19,"./StringReader":20,"./Uint8ArrayReader":21}],23:[function(y,z,k){"use strict";k.LOCAL_FILE_HEADER="PK\x03\x04",k.CENTRAL_FILE_HEADER="PK\x01\x02",k.CENTRAL_DIRECTORY_END="PK\x05\x06",k.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK\x06\x07",k.ZIP64_CENTRAL_DIRECTORY_END="PK\x06\x06",k.DATA_DESCRIPTOR="PK\x07\b"},{}],24:[function(y,z,k){"use strict";var d=y("./GenericWorker"),l=y("../utils");function e(i){d.call(this,"ConvertWorker to "+i),this.destType=i}l.inherits(e,d),e.prototype.processChunk=function(i){this.push({data:l.transformTo(this.destType,i.data),meta:i.meta})},z.exports=e},{"../utils":32,"./GenericWorker":28}],25:[function(y,z,k){"use strict";var d=y("./GenericWorker"),l=y("../crc32");function e(){d.call(this,"Crc32Probe"),this.withStreamInfo("crc32",0)}y("../utils").inherits(e,d),e.prototype.processChunk=function(i){this.streamInfo.crc32=l(i.data,this.streamInfo.crc32||0),this.push(i)},z.exports=e},{"../crc32":4,"../utils":32,"./GenericWorker":28}],26:[function(y,z,k){"use strict";var d=y("../utils"),l=y("./GenericWorker");function e(i){l.call(this,"DataLengthProbe for "+i),this.propName=i,this.withStreamInfo(i,0)}d.inherits(e,l),e.prototype.processChunk=function(i){i&&(this.streamInfo[this.propName]=(this.streamInfo[this.propName]||0)+i.data.length),l.prototype.processChunk.call(this,i)},z.exports=e},{"../utils":32,"./GenericWorker":28}],27:[function(y,z,k){"use strict";var d=y("../utils"),l=y("./GenericWorker");function e(i){l.call(this,"DataWorker");var p=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type="",this._tickScheduled=!1,i.then(function(m){p.dataIsReady=!0,p.data=m,p.max=m&&m.length||0,p.type=d.getTypeOf(m),p.isPaused||p._tickAndRepeat()},function(m){p.error(m)})}d.inherits(e,l),e.prototype.cleanUp=function(){l.prototype.cleanUp.call(this),this.data=null},e.prototype.resume=function(){return!!l.prototype.resume.call(this)&&(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,d.delay(this._tickAndRepeat,[],this)),!0)},e.prototype._tickAndRepeat=function(){this._tickScheduled=!1,this.isPaused||this.isFinished||(this._tick(),this.isFinished||(d.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0))},e.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var i=null,p=Math.min(this.max,this.index+16384);if(this.index>=this.max)return this.end();switch(this.type){case"string":i=this.data.substring(this.index,p);break;case"uint8array":i=this.data.subarray(this.index,p);break;case"array":case"nodebuffer":i=this.data.slice(this.index,p)}return this.index=p,this.push({data:i,meta:{percent:this.max?this.index/this.max*100:0}})},z.exports=e},{"../utils":32,"./GenericWorker":28}],28:[function(y,z,k){"use strict";function d(l){this.name=l||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}d.prototype={push:function(l){this.emit("data",l)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(l){this.emit("error",l)}return!0},error:function(l){return!this.isFinished&&(this.isPaused?this.generatedError=l:(this.isFinished=!0,this.emit("error",l),this.previous&&this.previous.error(l),this.cleanUp()),!0)},on:function(l,e){return this._listeners[l].push(e),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(l,e){if(this._listeners[l])for(var i=0;i<this._listeners[l].length;i++)this._listeners[l][i].call(this,e)},pipe:function(l){return l.registerPrevious(this)},registerPrevious:function(l){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.streamInfo=l.streamInfo,this.mergeStreamInfo(),this.previous=l;var e=this;return l.on("data",function(i){e.processChunk(i)}),l.on("end",function(){e.end()}),l.on("error",function(i){e.error(i)}),this},pause:function(){return!this.isPaused&&!this.isFinished&&(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){if(!this.isPaused||this.isFinished)return!1;var l=this.isPaused=!1;return this.generatedError&&(this.error(this.generatedError),l=!0),this.previous&&this.previous.resume(),!l},flush:function(){},processChunk:function(l){this.push(l)},withStreamInfo:function(l,e){return this.extraStreamInfo[l]=e,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var l in this.extraStreamInfo)Object.prototype.hasOwnProperty.call(this.extraStreamInfo,l)&&(this.streamInfo[l]=this.extraStreamInfo[l])},lock:function(){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var l="Worker "+this.name;return this.previous?this.previous+" -> "+l:l}},z.exports=d},{}],29:[function(y,z,k){"use strict";var d=y("../utils"),l=y("./ConvertWorker"),e=y("./GenericWorker"),i=y("../base64"),p=y("../support"),m=y("../external"),f=null;if(p.nodestream)try{f=y("../nodejs/NodejsStreamOutputAdapter")}catch{}function v(a,_,n){var o=_;switch(_){case"blob":case"arraybuffer":o="uint8array";break;case"base64":o="string"}try{this._internalType=o,this._outputType=_,this._mimeType=n,d.checkSupport(o),this._worker=a.pipe(new l(o)),a.lock()}catch(c){this._worker=new e("error"),this._worker.error(c)}}v.prototype={accumulate:function(a){return _=this,n=a,new m.Promise(function(o,c){var b=[],A=_._internalType,x=_._outputType,w=_._mimeType;_.on("data",function(R,C){b.push(R),n&&n(C)}).on("error",function(R){b=[],c(R)}).on("end",function(){try{var R=function(C,N,T){switch(C){case"blob":return d.newBlob(d.transformTo("arraybuffer",N),T);case"base64":return i.encode(N);default:return d.transformTo(C,N)}}(x,function(C,N){var T,h=0,S=null,r=0;for(T=0;T<N.length;T++)r+=N[T].length;switch(C){case"string":return N.join("");case"array":return Array.prototype.concat.apply([],N);case"uint8array":for(S=new Uint8Array(r),T=0;T<N.length;T++)S.set(N[T],h),h+=N[T].length;return S;case"nodebuffer":return Buffer.concat(N);default:throw new Error("concat : unsupported type '"+C+"'")}}(A,b),w);o(R)}catch(C){c(C)}b=[]}).resume()});var _,n},on:function(a,_){var n=this;return this._worker.on(a,"data"===a?function(o){_.call(n,o.data,o.meta)}:function(){d.delay(_,arguments,n)}),this},resume:function(){return d.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(a){if(d.checkSupport("nodestream"),"nodebuffer"!==this._outputType)throw new Error(this._outputType+" is not supported by this method");return new f(this,{objectMode:"nodebuffer"!==this._outputType},a)}},z.exports=v},{"../base64":1,"../external":6,"../nodejs/NodejsStreamOutputAdapter":13,"../support":30,"../utils":32,"./ConvertWorker":24,"./GenericWorker":28}],30:[function(y,z,k){"use strict";if(k.base64=!0,k.array=!0,k.string=!0,k.arraybuffer=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u",k.nodebuffer=typeof Buffer<"u",k.uint8array=typeof Uint8Array<"u",typeof ArrayBuffer>"u")k.blob=!1;else{var d=new ArrayBuffer(0);try{k.blob=0===new Blob([d],{type:"application/zip"}).size}catch{try{var l=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);l.append(d),k.blob=0===l.getBlob("application/zip").size}catch{k.blob=!1}}}try{k.nodestream=!!y("readable-stream").Readable}catch{k.nodestream=!1}},{"readable-stream":16}],31:[function(y,z,k){"use strict";for(var d=y("./utils"),l=y("./support"),e=y("./nodejsUtils"),i=y("./stream/GenericWorker"),p=new Array(256),m=0;m<256;m++)p[m]=252<=m?6:248<=m?5:240<=m?4:224<=m?3:192<=m?2:1;function f(){i.call(this,"utf-8 decode"),this.leftOver=null}function v(){i.call(this,"utf-8 encode")}p[254]=p[254]=1,k.utf8encode=function(a){return l.nodebuffer?e.newBufferFrom(a,"utf-8"):function(_){var n,o,c,b,A,x=_.length,w=0;for(b=0;b<x;b++)55296==(64512&(o=_.charCodeAt(b)))&&b+1<x&&56320==(64512&(c=_.charCodeAt(b+1)))&&(o=65536+(o-55296<<10)+(c-56320),b++),w+=o<128?1:o<2048?2:o<65536?3:4;for(n=l.uint8array?new Uint8Array(w):new Array(w),b=A=0;A<w;b++)55296==(64512&(o=_.charCodeAt(b)))&&b+1<x&&56320==(64512&(c=_.charCodeAt(b+1)))&&(o=65536+(o-55296<<10)+(c-56320),b++),o<128?n[A++]=o:(o<2048?n[A++]=192|o>>>6:(o<65536?n[A++]=224|o>>>12:(n[A++]=240|o>>>18,n[A++]=128|o>>>12&63),n[A++]=128|o>>>6&63),n[A++]=128|63&o);return n}(a)},k.utf8decode=function(a){return l.nodebuffer?d.transformTo("nodebuffer",a).toString("utf-8"):function(_){var n,o,c,b,A=_.length,x=new Array(2*A);for(n=o=0;n<A;)if((c=_[n++])<128)x[o++]=c;else if(4<(b=p[c]))x[o++]=65533,n+=b-1;else{for(c&=2===b?31:3===b?15:7;1<b&&n<A;)c=c<<6|63&_[n++],b--;1<b?x[o++]=65533:c<65536?x[o++]=c:(x[o++]=55296|(c-=65536)>>10&1023,x[o++]=56320|1023&c)}return x.length!==o&&(x.subarray?x=x.subarray(0,o):x.length=o),d.applyFromCharCode(x)}(a=d.transformTo(l.uint8array?"uint8array":"array",a))},d.inherits(f,i),f.prototype.processChunk=function(a){var _=d.transformTo(l.uint8array?"uint8array":"array",a.data);if(this.leftOver&&this.leftOver.length){if(l.uint8array){var n=_;(_=new Uint8Array(n.length+this.leftOver.length)).set(this.leftOver,0),_.set(n,this.leftOver.length)}else _=this.leftOver.concat(_);this.leftOver=null}var o=function(b,A){var x;for((A=A||b.length)>b.length&&(A=b.length),x=A-1;0<=x&&128==(192&b[x]);)x--;return x<0||0===x?A:x+p[b[x]]>A?x:A}(_),c=_;o!==_.length&&(l.uint8array?(c=_.subarray(0,o),this.leftOver=_.subarray(o,_.length)):(c=_.slice(0,o),this.leftOver=_.slice(o,_.length))),this.push({data:k.utf8decode(c),meta:a.meta})},f.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:k.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)},k.Utf8DecodeWorker=f,d.inherits(v,i),v.prototype.processChunk=function(a){this.push({data:k.utf8encode(a.data),meta:a.meta})},k.Utf8EncodeWorker=v},{"./nodejsUtils":14,"./stream/GenericWorker":28,"./support":30,"./utils":32}],32:[function(y,z,k){"use strict";var d=y("./support"),l=y("./base64"),e=y("./nodejsUtils"),i=y("./external");function p(n){return n}function m(n,o){for(var c=0;c<n.length;++c)o[c]=255&n.charCodeAt(c);return o}y("setimmediate"),k.newBlob=function(n,o){k.checkSupport("blob");try{return new Blob([n],{type:o})}catch{try{var c=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);return c.append(n),c.getBlob(o)}catch{throw new Error("Bug : can't construct the Blob.")}}};var f={stringifyByChunk:function(n,o,c){var b=[],A=0,x=n.length;if(x<=c)return String.fromCharCode.apply(null,n);for(;A<x;)b.push(String.fromCharCode.apply(null,"array"===o||"nodebuffer"===o?n.slice(A,Math.min(A+c,x)):n.subarray(A,Math.min(A+c,x)))),A+=c;return b.join("")},stringifyByChar:function(n){for(var o="",c=0;c<n.length;c++)o+=String.fromCharCode(n[c]);return o},applyCanBeUsed:{uint8array:function(){try{return d.uint8array&&1===String.fromCharCode.apply(null,new Uint8Array(1)).length}catch{return!1}}(),nodebuffer:function(){try{return d.nodebuffer&&1===String.fromCharCode.apply(null,e.allocBuffer(1)).length}catch{return!1}}()}};function v(n){var o=65536,c=k.getTypeOf(n),b=!0;if("uint8array"===c?b=f.applyCanBeUsed.uint8array:"nodebuffer"===c&&(b=f.applyCanBeUsed.nodebuffer),b)for(;1<o;)try{return f.stringifyByChunk(n,c,o)}catch{o=Math.floor(o/2)}return f.stringifyByChar(n)}function a(n,o){for(var c=0;c<n.length;c++)o[c]=n[c];return o}k.applyFromCharCode=v;var _={};_.string={string:p,array:function(n){return m(n,new Array(n.length))},arraybuffer:function(n){return _.string.uint8array(n).buffer},uint8array:function(n){return m(n,new Uint8Array(n.length))},nodebuffer:function(n){return m(n,e.allocBuffer(n.length))}},_.array={string:v,array:p,arraybuffer:function(n){return new Uint8Array(n).buffer},uint8array:function(n){return new Uint8Array(n)},nodebuffer:function(n){return e.newBufferFrom(n)}},_.arraybuffer={string:function(n){return v(new Uint8Array(n))},array:function(n){return a(new Uint8Array(n),new Array(n.byteLength))},arraybuffer:p,uint8array:function(n){return new Uint8Array(n)},nodebuffer:function(n){return e.newBufferFrom(new Uint8Array(n))}},_.uint8array={string:v,array:function(n){return a(n,new Array(n.length))},arraybuffer:function(n){return n.buffer},uint8array:p,nodebuffer:function(n){return e.newBufferFrom(n)}},_.nodebuffer={string:v,array:function(n){return a(n,new Array(n.length))},arraybuffer:function(n){return _.nodebuffer.uint8array(n).buffer},uint8array:function(n){return a(n,new Uint8Array(n.length))},nodebuffer:p},k.transformTo=function(n,o){if(o=o||"",!n)return o;k.checkSupport(n);var c=k.getTypeOf(o);return _[c][n](o)},k.resolve=function(n){for(var o=n.split("/"),c=[],b=0;b<o.length;b++){var A=o[b];"."===A||""===A&&0!==b&&b!==o.length-1||(".."===A?c.pop():c.push(A))}return c.join("/")},k.getTypeOf=function(n){return"string"==typeof n?"string":"[object Array]"===Object.prototype.toString.call(n)?"array":d.nodebuffer&&e.isBuffer(n)?"nodebuffer":d.uint8array&&n instanceof Uint8Array?"uint8array":d.arraybuffer&&n instanceof ArrayBuffer?"arraybuffer":void 0},k.checkSupport=function(n){if(!d[n.toLowerCase()])throw new Error(n+" is not supported by this platform")},k.MAX_VALUE_16BITS=65535,k.MAX_VALUE_32BITS=-1,k.pretty=function(n){var o,c,b="";for(c=0;c<(n||"").length;c++)b+="\\x"+((o=n.charCodeAt(c))<16?"0":"")+o.toString(16).toUpperCase();return b},k.delay=function(n,o,c){setImmediate(function(){n.apply(c||null,o||[])})},k.inherits=function(n,o){function c(){}c.prototype=o.prototype,n.prototype=new c},k.extend=function(){var n,o,c={};for(n=0;n<arguments.length;n++)for(o in arguments[n])Object.prototype.hasOwnProperty.call(arguments[n],o)&&void 0===c[o]&&(c[o]=arguments[n][o]);return c},k.prepareContent=function(n,o,c,b,A){return i.Promise.resolve(o).then(function(x){return d.blob&&(x instanceof Blob||-1!==["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call(x)))&&typeof FileReader<"u"?new i.Promise(function(w,R){var C=new FileReader;C.onload=function(N){w(N.target.result)},C.onerror=function(N){R(N.target.error)},C.readAsArrayBuffer(x)}):x}).then(function(x){var R,w=k.getTypeOf(x);return w?("arraybuffer"===w?x=k.transformTo("uint8array",x):"string"===w&&(A?x=l.decode(x):c&&!0!==b&&(x=m(R=x,d.uint8array?new Uint8Array(R.length):new Array(R.length)))),x):i.Promise.reject(new Error("Can't read the data of '"+n+"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?"))})}},{"./base64":1,"./external":6,"./nodejsUtils":14,"./support":30,setimmediate:54}],33:[function(y,z,k){"use strict";var d=y("./reader/readerFor"),l=y("./utils"),e=y("./signature"),i=y("./zipEntry"),p=y("./support");function m(f){this.files=[],this.loadOptions=f}m.prototype={checkSignature:function(f){if(!this.reader.readAndCheckSignature(f)){this.reader.index-=4;var v=this.reader.readString(4);throw new Error("Corrupted zip or bug: unexpected signature ("+l.pretty(v)+", expected "+l.pretty(f)+")")}},isSignature:function(f,v){var a=this.reader.index;this.reader.setIndex(f);var _=this.reader.readString(4)===v;return this.reader.setIndex(a),_},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var f=this.reader.readData(this.zipCommentLength),a=l.transformTo(p.uint8array?"uint8array":"array",f);this.zipComment=this.loadOptions.decodeFileName(a)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var f,v,a,_=this.zip64EndOfCentralSize-44;0<_;)f=this.reader.readInt(2),v=this.reader.readInt(4),a=this.reader.readData(v),this.zip64ExtensibleData[f]={id:f,length:v,value:a}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),1<this.disksCount)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var f,v;for(f=0;f<this.files.length;f++)this.reader.setIndex((v=this.files[f]).localHeaderOffset),this.checkSignature(e.LOCAL_FILE_HEADER),v.readLocalPart(this.reader),v.handleUTF8(),v.processAttributes()},readCentralDir:function(){var f;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(e.CENTRAL_FILE_HEADER);)(f=new i({zip64:this.zip64},this.loadOptions)).readCentralPart(this.reader),this.files.push(f);if(this.centralDirRecords!==this.files.length&&0!==this.centralDirRecords&&0===this.files.length)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var f=this.reader.lastIndexOfSignature(e.CENTRAL_DIRECTORY_END);if(f<0)throw this.isSignature(0,e.LOCAL_FILE_HEADER)?new Error("Corrupted zip: can't find end of central directory"):new Error("Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html");this.reader.setIndex(f);var v=f;if(this.checkSignature(e.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===l.MAX_VALUE_16BITS||this.diskWithCentralDirStart===l.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===l.MAX_VALUE_16BITS||this.centralDirRecords===l.MAX_VALUE_16BITS||this.centralDirSize===l.MAX_VALUE_32BITS||this.centralDirOffset===l.MAX_VALUE_32BITS){if(this.zip64=!0,(f=this.reader.lastIndexOfSignature(e.ZIP64_CENTRAL_DIRECTORY_LOCATOR))<0)throw new Error("Corrupted zip: can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(f),this.checkSignature(e.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,e.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(e.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip: can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(e.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var a=this.centralDirOffset+this.centralDirSize;this.zip64&&(a+=20,a+=12+this.zip64EndOfCentralSize);var _=v-a;if(0<_)this.isSignature(v,e.CENTRAL_FILE_HEADER)||(this.reader.zero=_);else if(_<0)throw new Error("Corrupted zip: missing "+Math.abs(_)+" bytes.")},prepareReader:function(f){this.reader=d(f)},load:function(f){this.prepareReader(f),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},z.exports=m},{"./reader/readerFor":22,"./signature":23,"./support":30,"./utils":32,"./zipEntry":34}],34:[function(y,z,k){"use strict";var d=y("./reader/readerFor"),l=y("./utils"),e=y("./compressedObject"),i=y("./crc32"),p=y("./utf8"),m=y("./compressions"),f=y("./support");function v(a,_){this.options=a,this.loadOptions=_}v.prototype={isEncrypted:function(){return!(1&~this.bitFlag)},useUTF8:function(){return!(2048&~this.bitFlag)},readLocalPart:function(a){var _,n;if(a.skip(22),this.fileNameLength=a.readInt(2),n=a.readInt(2),this.fileName=a.readData(this.fileNameLength),a.skip(n),-1===this.compressedSize||-1===this.uncompressedSize)throw new Error("Bug or corrupted zip : didn't get enough information from the central directory (compressedSize === -1 || uncompressedSize === -1)");if(null===(_=function(o){for(var c in m)if(Object.prototype.hasOwnProperty.call(m,c)&&m[c].magic===o)return m[c];return null}(this.compressionMethod)))throw new Error("Corrupted zip : compression "+l.pretty(this.compressionMethod)+" unknown (inner file : "+l.transformTo("string",this.fileName)+")");this.decompressed=new e(this.compressedSize,this.uncompressedSize,this.crc32,_,a.readData(this.compressedSize))},readCentralPart:function(a){this.versionMadeBy=a.readInt(2),a.skip(2),this.bitFlag=a.readInt(2),this.compressionMethod=a.readString(2),this.date=a.readDate(),this.crc32=a.readInt(4),this.compressedSize=a.readInt(4),this.uncompressedSize=a.readInt(4);var _=a.readInt(2);if(this.extraFieldsLength=a.readInt(2),this.fileCommentLength=a.readInt(2),this.diskNumberStart=a.readInt(2),this.internalFileAttributes=a.readInt(2),this.externalFileAttributes=a.readInt(4),this.localHeaderOffset=a.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");a.skip(_),this.readExtraFields(a),this.parseZIP64ExtraField(a),this.fileComment=a.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var a=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),0==a&&(this.dosPermissions=63&this.externalFileAttributes),3==a&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||"/"!==this.fileNameStr.slice(-1)||(this.dir=!0)},parseZIP64ExtraField:function(){if(this.extraFields[1]){var a=d(this.extraFields[1].value);this.uncompressedSize===l.MAX_VALUE_32BITS&&(this.uncompressedSize=a.readInt(8)),this.compressedSize===l.MAX_VALUE_32BITS&&(this.compressedSize=a.readInt(8)),this.localHeaderOffset===l.MAX_VALUE_32BITS&&(this.localHeaderOffset=a.readInt(8)),this.diskNumberStart===l.MAX_VALUE_32BITS&&(this.diskNumberStart=a.readInt(4))}},readExtraFields:function(a){var _,n,o,c=a.index+this.extraFieldsLength;for(this.extraFields||(this.extraFields={});a.index+4<c;)_=a.readInt(2),n=a.readInt(2),o=a.readData(n),this.extraFields[_]={id:_,length:n,value:o};a.setIndex(c)},handleUTF8:function(){var a=f.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=p.utf8decode(this.fileName),this.fileCommentStr=p.utf8decode(this.fileComment);else{var _=this.findExtraFieldUnicodePath();if(null!==_)this.fileNameStr=_;else{var n=l.transformTo(a,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(n)}var o=this.findExtraFieldUnicodeComment();if(null!==o)this.fileCommentStr=o;else{var c=l.transformTo(a,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(c)}}},findExtraFieldUnicodePath:function(){var a=this.extraFields[28789];if(a){var _=d(a.value);return 1!==_.readInt(1)||i(this.fileName)!==_.readInt(4)?null:p.utf8decode(_.readData(a.length-5))}return null},findExtraFieldUnicodeComment:function(){var a=this.extraFields[25461];if(a){var _=d(a.value);return 1!==_.readInt(1)||i(this.fileComment)!==_.readInt(4)?null:p.utf8decode(_.readData(a.length-5))}return null}},z.exports=v},{"./compressedObject":2,"./compressions":3,"./crc32":4,"./reader/readerFor":22,"./support":30,"./utf8":31,"./utils":32}],35:[function(y,z,k){"use strict";function d(_,n,o){this.name=_,this.dir=o.dir,this.date=o.date,this.comment=o.comment,this.unixPermissions=o.unixPermissions,this.dosPermissions=o.dosPermissions,this._data=n,this._dataBinary=o.binary,this.options={compression:o.compression,compressionOptions:o.compressionOptions}}var l=y("./stream/StreamHelper"),e=y("./stream/DataWorker"),i=y("./utf8"),p=y("./compressedObject"),m=y("./stream/GenericWorker");d.prototype={internalStream:function(_){var n=null,o="string";try{if(!_)throw new Error("No output type specified.");var c="string"===(o=_.toLowerCase())||"text"===o;"binarystring"!==o&&"text"!==o||(o="string"),n=this._decompressWorker();var b=!this._dataBinary;b&&!c&&(n=n.pipe(new i.Utf8EncodeWorker)),!b&&c&&(n=n.pipe(new i.Utf8DecodeWorker))}catch(A){(n=new m("error")).error(A)}return new l(n,o,"")},async:function(_,n){return this.internalStream(_).accumulate(n)},nodeStream:function(_,n){return this.internalStream(_||"nodebuffer").toNodejsStream(n)},_compressWorker:function(_,n){if(this._data instanceof p&&this._data.compression.magic===_.magic)return this._data.getCompressedWorker();var o=this._decompressWorker();return this._dataBinary||(o=o.pipe(new i.Utf8EncodeWorker)),p.createWorkerFrom(o,_,n)},_decompressWorker:function(){return this._data instanceof p?this._data.getContentWorker():this._data instanceof m?this._data:new e(this._data)}};for(var f=["asText","asBinary","asNodeBuffer","asUint8Array","asArrayBuffer"],v=function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},a=0;a<f.length;a++)d.prototype[f[a]]=v;z.exports=d},{"./compressedObject":2,"./stream/DataWorker":27,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31}],36:[function(y,z,k){(function(d){"use strict";var l,e,i=d.MutationObserver||d.WebKitMutationObserver;if(i){var p=0,m=new i(_),f=d.document.createTextNode("");m.observe(f,{characterData:!0}),l=function(){f.data=p=++p%2}}else if(d.setImmediate||void 0===d.MessageChannel)l="document"in d&&"onreadystatechange"in d.document.createElement("script")?function(){var n=d.document.createElement("script");n.onreadystatechange=function(){_(),n.onreadystatechange=null,n.parentNode.removeChild(n),n=null},d.document.documentElement.appendChild(n)}:function(){setTimeout(_,0)};else{var v=new d.MessageChannel;v.port1.onmessage=_,l=function(){v.port2.postMessage(0)}}var a=[];function _(){var n,o;e=!0;for(var c=a.length;c;){for(o=a,a=[],n=-1;++n<c;)o[n]();c=a.length}e=!1}z.exports=function(n){1!==a.push(n)||e||l()}}).call(this,void 0!==Q.g?Q.g:typeof self<"u"?self:typeof window<"u"?window:{})},{}],37:[function(y,z,k){"use strict";var d=y("immediate");function l(){}var e={},i=["REJECTED"],p=["FULFILLED"],m=["PENDING"];function f(c){if("function"!=typeof c)throw new TypeError("resolver must be a function");this.state=m,this.queue=[],this.outcome=void 0,c!==l&&n(this,c)}function v(c,b,A){this.promise=c,"function"==typeof b&&(this.onFulfilled=b,this.callFulfilled=this.otherCallFulfilled),"function"==typeof A&&(this.onRejected=A,this.callRejected=this.otherCallRejected)}function a(c,b,A){d(function(){var x;try{x=b(A)}catch(w){return e.reject(c,w)}x===c?e.reject(c,new TypeError("Cannot resolve promise with itself")):e.resolve(c,x)})}function _(c){var b=c&&c.then;if(c&&("object"==typeof c||"function"==typeof c)&&"function"==typeof b)return function(){b.apply(c,arguments)}}function n(c,b){var A=!1;function x(C){A||(A=!0,e.reject(c,C))}function w(C){A||(A=!0,e.resolve(c,C))}var R=o(function(){b(w,x)});"error"===R.status&&x(R.value)}function o(c,b){var A={};try{A.value=c(b),A.status="success"}catch(x){A.status="error",A.value=x}return A}(z.exports=f).prototype.finally=function(c){if("function"!=typeof c)return this;var b=this.constructor;return this.then(function(A){return b.resolve(c()).then(function(){return A})},function(A){return b.resolve(c()).then(function(){throw A})})},f.prototype.catch=function(c){return this.then(null,c)},f.prototype.then=function(c,b){if("function"!=typeof c&&this.state===p||"function"!=typeof b&&this.state===i)return this;var A=new this.constructor(l);return this.state!==m?a(A,this.state===p?c:b,this.outcome):this.queue.push(new v(A,c,b)),A},v.prototype.callFulfilled=function(c){e.resolve(this.promise,c)},v.prototype.otherCallFulfilled=function(c){a(this.promise,this.onFulfilled,c)},v.prototype.callRejected=function(c){e.reject(this.promise,c)},v.prototype.otherCallRejected=function(c){a(this.promise,this.onRejected,c)},e.resolve=function(c,b){var A=o(_,b);if("error"===A.status)return e.reject(c,A.value);var x=A.value;if(x)n(c,x);else{c.state=p,c.outcome=b;for(var w=-1,R=c.queue.length;++w<R;)c.queue[w].callFulfilled(b)}return c},e.reject=function(c,b){c.state=i,c.outcome=b;for(var A=-1,x=c.queue.length;++A<x;)c.queue[A].callRejected(b);return c},f.resolve=function(c){return c instanceof this?c:e.resolve(new this(l),c)},f.reject=function(c){var b=new this(l);return e.reject(b,c)},f.all=function(c){var b=this;if("[object Array]"!==Object.prototype.toString.call(c))return this.reject(new TypeError("must be an array"));var A=c.length,x=!1;if(!A)return this.resolve([]);for(var w=new Array(A),R=0,C=-1,N=new this(l);++C<A;)T(c[C],C);return N;function T(h,S){b.resolve(h).then(function(r){w[S]=r,++R!==A||x||(x=!0,e.resolve(N,w))},function(r){x||(x=!0,e.reject(N,r))})}},f.race=function(c){if("[object Array]"!==Object.prototype.toString.call(c))return this.reject(new TypeError("must be an array"));var b=c.length,A=!1;if(!b)return this.resolve([]);for(var w=-1,R=new this(l);++w<b;)this.resolve(c[w]).then(function(C){A||(A=!0,e.resolve(R,C))},function(C){A||(A=!0,e.reject(R,C))});return R}},{immediate:36}],38:[function(y,z,k){"use strict";var d={};(0,y("./lib/utils/common").assign)(d,y("./lib/deflate"),y("./lib/inflate"),y("./lib/zlib/constants")),z.exports=d},{"./lib/deflate":39,"./lib/inflate":40,"./lib/utils/common":41,"./lib/zlib/constants":44}],39:[function(y,z,k){"use strict";var d=y("./zlib/deflate"),l=y("./utils/common"),e=y("./utils/strings"),i=y("./zlib/messages"),p=y("./zlib/zstream"),m=Object.prototype.toString,f=0,v=-1,a=0,_=8;function n(c){if(!(this instanceof n))return new n(c);this.options=l.assign({level:v,method:_,chunkSize:16384,windowBits:15,memLevel:8,strategy:a,to:""},c||{});var b=this.options;b.raw&&0<b.windowBits?b.windowBits=-b.windowBits:b.gzip&&0<b.windowBits&&b.windowBits<16&&(b.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new p,this.strm.avail_out=0;var A=d.deflateInit2(this.strm,b.level,b.method,b.windowBits,b.memLevel,b.strategy);if(A!==f)throw new Error(i[A]);if(b.header&&d.deflateSetHeader(this.strm,b.header),b.dictionary){var x;if(x="string"==typeof b.dictionary?e.string2buf(b.dictionary):"[object ArrayBuffer]"===m.call(b.dictionary)?new Uint8Array(b.dictionary):b.dictionary,(A=d.deflateSetDictionary(this.strm,x))!==f)throw new Error(i[A]);this._dict_set=!0}}function o(c,b){var A=new n(b);if(A.push(c,!0),A.err)throw A.msg||i[A.err];return A.result}n.prototype.push=function(c,b){var A,x,w=this.strm,R=this.options.chunkSize;if(this.ended)return!1;x=b===~~b?b:!0===b?4:0,w.input="string"==typeof c?e.string2buf(c):"[object ArrayBuffer]"===m.call(c)?new Uint8Array(c):c,w.next_in=0,w.avail_in=w.input.length;do{if(0===w.avail_out&&(w.output=new l.Buf8(R),w.next_out=0,w.avail_out=R),1!==(A=d.deflate(w,x))&&A!==f)return this.onEnd(A),!(this.ended=!0);0!==w.avail_out&&(0!==w.avail_in||4!==x&&2!==x)||this.onData("string"===this.options.to?e.buf2binstring(l.shrinkBuf(w.output,w.next_out)):l.shrinkBuf(w.output,w.next_out))}while((0<w.avail_in||0===w.avail_out)&&1!==A);return 4===x?(A=d.deflateEnd(this.strm),this.onEnd(A),this.ended=!0,A===f):2!==x||(this.onEnd(f),!(w.avail_out=0))},n.prototype.onData=function(c){this.chunks.push(c)},n.prototype.onEnd=function(c){c===f&&(this.result="string"===this.options.to?this.chunks.join(""):l.flattenChunks(this.chunks)),this.chunks=[],this.err=c,this.msg=this.strm.msg},k.Deflate=n,k.deflate=o,k.deflateRaw=function(c,b){return(b=b||{}).raw=!0,o(c,b)},k.gzip=function(c,b){return(b=b||{}).gzip=!0,o(c,b)}},{"./utils/common":41,"./utils/strings":42,"./zlib/deflate":46,"./zlib/messages":51,"./zlib/zstream":53}],40:[function(y,z,k){"use strict";var d=y("./zlib/inflate"),l=y("./utils/common"),e=y("./utils/strings"),i=y("./zlib/constants"),p=y("./zlib/messages"),m=y("./zlib/zstream"),f=y("./zlib/gzheader"),v=Object.prototype.toString;function a(n){if(!(this instanceof a))return new a(n);this.options=l.assign({chunkSize:16384,windowBits:0,to:""},n||{});var o=this.options;o.raw&&0<=o.windowBits&&o.windowBits<16&&(o.windowBits=-o.windowBits,0===o.windowBits&&(o.windowBits=-15)),!(0<=o.windowBits&&o.windowBits<16)||n&&n.windowBits||(o.windowBits+=32),15<o.windowBits&&o.windowBits<48&&!(15&o.windowBits)&&(o.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new m,this.strm.avail_out=0;var c=d.inflateInit2(this.strm,o.windowBits);if(c!==i.Z_OK)throw new Error(p[c]);this.header=new f,d.inflateGetHeader(this.strm,this.header)}function _(n,o){var c=new a(o);if(c.push(n,!0),c.err)throw c.msg||p[c.err];return c.result}a.prototype.push=function(n,o){var c,b,A,x,w,R,C=this.strm,N=this.options.chunkSize,T=this.options.dictionary,h=!1;if(this.ended)return!1;b=o===~~o?o:!0===o?i.Z_FINISH:i.Z_NO_FLUSH,C.input="string"==typeof n?e.binstring2buf(n):"[object ArrayBuffer]"===v.call(n)?new Uint8Array(n):n,C.next_in=0,C.avail_in=C.input.length;do{if(0===C.avail_out&&(C.output=new l.Buf8(N),C.next_out=0,C.avail_out=N),(c=d.inflate(C,i.Z_NO_FLUSH))===i.Z_NEED_DICT&&T&&(R="string"==typeof T?e.string2buf(T):"[object ArrayBuffer]"===v.call(T)?new Uint8Array(T):T,c=d.inflateSetDictionary(this.strm,R)),c===i.Z_BUF_ERROR&&!0===h&&(c=i.Z_OK,h=!1),c!==i.Z_STREAM_END&&c!==i.Z_OK)return this.onEnd(c),!(this.ended=!0);C.next_out&&(0!==C.avail_out&&c!==i.Z_STREAM_END&&(0!==C.avail_in||b!==i.Z_FINISH&&b!==i.Z_SYNC_FLUSH)||("string"===this.options.to?(A=e.utf8border(C.output,C.next_out),x=C.next_out-A,w=e.buf2string(C.output,A),C.next_out=x,C.avail_out=N-x,x&&l.arraySet(C.output,C.output,A,x,0),this.onData(w)):this.onData(l.shrinkBuf(C.output,C.next_out)))),0===C.avail_in&&0===C.avail_out&&(h=!0)}while((0<C.avail_in||0===C.avail_out)&&c!==i.Z_STREAM_END);return c===i.Z_STREAM_END&&(b=i.Z_FINISH),b===i.Z_FINISH?(c=d.inflateEnd(this.strm),this.onEnd(c),this.ended=!0,c===i.Z_OK):b!==i.Z_SYNC_FLUSH||(this.onEnd(i.Z_OK),!(C.avail_out=0))},a.prototype.onData=function(n){this.chunks.push(n)},a.prototype.onEnd=function(n){n===i.Z_OK&&(this.result="string"===this.options.to?this.chunks.join(""):l.flattenChunks(this.chunks)),this.chunks=[],this.err=n,this.msg=this.strm.msg},k.Inflate=a,k.inflate=_,k.inflateRaw=function(n,o){return(o=o||{}).raw=!0,_(n,o)},k.ungzip=_},{"./utils/common":41,"./utils/strings":42,"./zlib/constants":44,"./zlib/gzheader":47,"./zlib/inflate":49,"./zlib/messages":51,"./zlib/zstream":53}],41:[function(y,z,k){"use strict";var d=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Int32Array<"u";k.assign=function(i){for(var p=Array.prototype.slice.call(arguments,1);p.length;){var m=p.shift();if(m){if("object"!=typeof m)throw new TypeError(m+"must be non-object");for(var f in m)m.hasOwnProperty(f)&&(i[f]=m[f])}}return i},k.shrinkBuf=function(i,p){return i.length===p?i:i.subarray?i.subarray(0,p):(i.length=p,i)};var l={arraySet:function(i,p,m,f,v){if(p.subarray&&i.subarray)i.set(p.subarray(m,m+f),v);else for(var a=0;a<f;a++)i[v+a]=p[m+a]},flattenChunks:function(i){var p,m,f,v,a,_;for(p=f=0,m=i.length;p<m;p++)f+=i[p].length;for(_=new Uint8Array(f),p=v=0,m=i.length;p<m;p++)_.set(a=i[p],v),v+=a.length;return _}},e={arraySet:function(i,p,m,f,v){for(var a=0;a<f;a++)i[v+a]=p[m+a]},flattenChunks:function(i){return[].concat.apply([],i)}};k.setTyped=function(i){i?(k.Buf8=Uint8Array,k.Buf16=Uint16Array,k.Buf32=Int32Array,k.assign(k,l)):(k.Buf8=Array,k.Buf16=Array,k.Buf32=Array,k.assign(k,e))},k.setTyped(d)},{}],42:[function(y,z,k){"use strict";var d=y("./common"),l=!0,e=!0;try{String.fromCharCode.apply(null,[0])}catch{l=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{e=!1}for(var i=new d.Buf8(256),p=0;p<256;p++)i[p]=252<=p?6:248<=p?5:240<=p?4:224<=p?3:192<=p?2:1;function m(f,v){if(v<65537&&(f.subarray&&e||!f.subarray&&l))return String.fromCharCode.apply(null,d.shrinkBuf(f,v));for(var a="",_=0;_<v;_++)a+=String.fromCharCode(f[_]);return a}i[254]=i[254]=1,k.string2buf=function(f){var v,a,_,n,o,c=f.length,b=0;for(n=0;n<c;n++)55296==(64512&(a=f.charCodeAt(n)))&&n+1<c&&56320==(64512&(_=f.charCodeAt(n+1)))&&(a=65536+(a-55296<<10)+(_-56320),n++),b+=a<128?1:a<2048?2:a<65536?3:4;for(v=new d.Buf8(b),n=o=0;o<b;n++)55296==(64512&(a=f.charCodeAt(n)))&&n+1<c&&56320==(64512&(_=f.charCodeAt(n+1)))&&(a=65536+(a-55296<<10)+(_-56320),n++),a<128?v[o++]=a:(a<2048?v[o++]=192|a>>>6:(a<65536?v[o++]=224|a>>>12:(v[o++]=240|a>>>18,v[o++]=128|a>>>12&63),v[o++]=128|a>>>6&63),v[o++]=128|63&a);return v},k.buf2binstring=function(f){return m(f,f.length)},k.binstring2buf=function(f){for(var v=new d.Buf8(f.length),a=0,_=v.length;a<_;a++)v[a]=f.charCodeAt(a);return v},k.buf2string=function(f,v){var a,_,n,o,c=v||f.length,b=new Array(2*c);for(a=_=0;a<c;)if((n=f[a++])<128)b[_++]=n;else if(4<(o=i[n]))b[_++]=65533,a+=o-1;else{for(n&=2===o?31:3===o?15:7;1<o&&a<c;)n=n<<6|63&f[a++],o--;1<o?b[_++]=65533:n<65536?b[_++]=n:(b[_++]=55296|(n-=65536)>>10&1023,b[_++]=56320|1023&n)}return m(b,_)},k.utf8border=function(f,v){var a;for((v=v||f.length)>f.length&&(v=f.length),a=v-1;0<=a&&128==(192&f[a]);)a--;return a<0||0===a?v:a+i[f[a]]>v?a:v}},{"./common":41}],43:[function(y,z,k){"use strict";z.exports=function(d,l,e,i){for(var p=65535&d,m=d>>>16&65535,f=0;0!==e;){for(e-=f=2e3<e?2e3:e;m=m+(p=p+l[i++]|0)|0,--f;);p%=65521,m%=65521}return p|m<<16}},{}],44:[function(y,z,k){"use strict";z.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],45:[function(y,z,k){"use strict";var d=function(){for(var l,e=[],i=0;i<256;i++){l=i;for(var p=0;p<8;p++)l=1&l?3988292384^l>>>1:l>>>1;e[i]=l}return e}();z.exports=function(l,e,i,p){var m=d,f=p+i;l^=-1;for(var v=p;v<f;v++)l=l>>>8^m[255&(l^e[v])];return~l}},{}],46:[function(y,z,k){"use strict";var d,l=y("../utils/common"),e=y("./trees"),i=y("./adler32"),p=y("./crc32"),m=y("./messages"),f=0,v=0,a=-2,_=2,n=8,o=286,c=30,b=19,A=2*o+1,x=15,w=3,R=258,C=R+w+1,N=42,T=113;function h(t,s){return t.msg=m[s],s}function S(t){return(t<<1)-(4<t?9:0)}function r(t){for(var s=t.length;0<=--s;)t[s]=0}function D(t){var s=t.state,g=s.pending;g>t.avail_out&&(g=t.avail_out),0!==g&&(l.arraySet(t.output,s.pending_buf,s.pending_out,g,t.next_out),t.next_out+=g,s.pending_out+=g,t.total_out+=g,t.avail_out-=g,s.pending-=g,0===s.pending&&(s.pending_out=0))}function F(t,s){e._tr_flush_block(t,0<=t.block_start?t.block_start:-1,t.strstart-t.block_start,s),t.block_start=t.strstart,D(t.strm)}function E(t,s){t.pending_buf[t.pending++]=s}function J(t,s){t.pending_buf[t.pending++]=s>>>8&255,t.pending_buf[t.pending++]=255&s}function Z(t,s){var g,u,W=t.max_chain_length,O=t.strstart,P=t.prev_length,j=t.nice_match,B=t.strstart>t.w_size-C?t.strstart-(t.w_size-C):0,M=t.window,K=t.w_mask,G=t.prev,ne=t.strstart+R,me=M[O+P-1],ce=M[O+P];t.prev_length>=t.good_match&&(W>>=2),j>t.lookahead&&(j=t.lookahead);do{if(M[(g=s)+P]===ce&&M[g+P-1]===me&&M[g]===M[O]&&M[++g]===M[O+1]){O+=2,g++;do{}while(M[++O]===M[++g]&&M[++O]===M[++g]&&M[++O]===M[++g]&&M[++O]===M[++g]&&M[++O]===M[++g]&&M[++O]===M[++g]&&M[++O]===M[++g]&&M[++O]===M[++g]&&O<ne);if(u=R-(ne-O),O=ne-R,P<u){if(t.match_start=s,j<=(P=u))break;me=M[O+P-1],ce=M[O+P]}}}while((s=G[s&K])>B&&0!=--W);return P<=t.lookahead?P:t.lookahead}function V(t){var s,g,u,W,O,P,j,B,M,K,G=t.w_size;do{if(W=t.window_size-t.lookahead-t.strstart,t.strstart>=G+(G-C)){for(l.arraySet(t.window,t.window,G,G,0),t.match_start-=G,t.strstart-=G,t.block_start-=G,s=g=t.hash_size;u=t.head[--s],t.head[s]=G<=u?u-G:0,--g;);for(s=g=G;u=t.prev[--s],t.prev[s]=G<=u?u-G:0,--g;);W+=G}if(0===t.strm.avail_in)break;if(j=t.window,B=t.strstart+t.lookahead,K=void 0,(M=W)<(K=(P=t.strm).avail_in)&&(K=M),g=0===K?0:(P.avail_in-=K,l.arraySet(j,P.input,P.next_in,K,B),1===P.state.wrap?P.adler=i(P.adler,j,K,B):2===P.state.wrap&&(P.adler=p(P.adler,j,K,B)),P.next_in+=K,P.total_in+=K,K),t.lookahead+=g,t.lookahead+t.insert>=w)for(t.ins_h=t.window[O=t.strstart-t.insert],t.ins_h=(t.ins_h<<t.hash_shift^t.window[O+1])&t.hash_mask;t.insert&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[O+w-1])&t.hash_mask,t.prev[O&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=O,O++,t.insert--,!(t.lookahead+t.insert<w)););}while(t.lookahead<C&&0!==t.strm.avail_in)}function U(t,s){for(var g,u;;){if(t.lookahead<C){if(V(t),t.lookahead<C&&s===f)return 1;if(0===t.lookahead)break}if(g=0,t.lookahead>=w&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+w-1])&t.hash_mask,g=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart),0!==g&&t.strstart-g<=t.w_size-C&&(t.match_length=Z(t,g)),t.match_length>=w)if(u=e._tr_tally(t,t.strstart-t.match_start,t.match_length-w),t.lookahead-=t.match_length,t.match_length<=t.max_lazy_match&&t.lookahead>=w){for(t.match_length--;t.strstart++,t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+w-1])&t.hash_mask,g=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart,0!=--t.match_length;);t.strstart++}else t.strstart+=t.match_length,t.match_length=0,t.ins_h=t.window[t.strstart],t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+1])&t.hash_mask;else u=e._tr_tally(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++;if(u&&(F(t,!1),0===t.strm.avail_out))return 1}return t.insert=t.strstart<w-1?t.strstart:w-1,4===s?(F(t,!0),0===t.strm.avail_out?3:4):t.last_lit&&(F(t,!1),0===t.strm.avail_out)?1:2}function I(t,s){for(var g,u,W;;){if(t.lookahead<C){if(V(t),t.lookahead<C&&s===f)return 1;if(0===t.lookahead)break}if(g=0,t.lookahead>=w&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+w-1])&t.hash_mask,g=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart),t.prev_length=t.match_length,t.prev_match=t.match_start,t.match_length=w-1,0!==g&&t.prev_length<t.max_lazy_match&&t.strstart-g<=t.w_size-C&&(t.match_length=Z(t,g),t.match_length<=5&&(1===t.strategy||t.match_length===w&&4096<t.strstart-t.match_start)&&(t.match_length=w-1)),t.prev_length>=w&&t.match_length<=t.prev_length){for(W=t.strstart+t.lookahead-w,u=e._tr_tally(t,t.strstart-1-t.prev_match,t.prev_length-w),t.lookahead-=t.prev_length-1,t.prev_length-=2;++t.strstart<=W&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+w-1])&t.hash_mask,g=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart),0!=--t.prev_length;);if(t.match_available=0,t.match_length=w-1,t.strstart++,u&&(F(t,!1),0===t.strm.avail_out))return 1}else if(t.match_available){if((u=e._tr_tally(t,0,t.window[t.strstart-1]))&&F(t,!1),t.strstart++,t.lookahead--,0===t.strm.avail_out)return 1}else t.match_available=1,t.strstart++,t.lookahead--}return t.match_available&&(u=e._tr_tally(t,0,t.window[t.strstart-1]),t.match_available=0),t.insert=t.strstart<w-1?t.strstart:w-1,4===s?(F(t,!0),0===t.strm.avail_out?3:4):t.last_lit&&(F(t,!1),0===t.strm.avail_out)?1:2}function ie(t,s,g,u,W){this.good_length=t,this.max_lazy=s,this.nice_length=g,this.max_chain=u,this.func=W}function te(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=n,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new l.Buf16(2*A),this.dyn_dtree=new l.Buf16(2*(2*c+1)),this.bl_tree=new l.Buf16(2*(2*b+1)),r(this.dyn_ltree),r(this.dyn_dtree),r(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new l.Buf16(x+1),this.heap=new l.Buf16(2*o+1),r(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new l.Buf16(2*o+1),r(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function H(t){var s;return t&&t.state?(t.total_in=t.total_out=0,t.data_type=_,(s=t.state).pending=0,s.pending_out=0,s.wrap<0&&(s.wrap=-s.wrap),s.status=s.wrap?N:T,t.adler=2===s.wrap?0:1,s.last_flush=f,e._tr_init(s),v):h(t,a)}function se(t){var g,s=H(t);return s===v&&((g=t.state).window_size=2*g.w_size,r(g.head),g.max_lazy_match=d[g.level].max_lazy,g.good_match=d[g.level].good_length,g.nice_match=d[g.level].nice_length,g.max_chain_length=d[g.level].max_chain,g.strstart=0,g.block_start=0,g.lookahead=0,g.insert=0,g.match_length=g.prev_length=w-1,g.match_available=0,g.ins_h=0),s}function de(t,s,g,u,W,O){if(!t)return a;var P=1;if(-1===s&&(s=6),u<0?(P=0,u=-u):15<u&&(P=2,u-=16),W<1||9<W||g!==n||u<8||15<u||s<0||9<s||O<0||4<O)return h(t,a);8===u&&(u=9);var j=new te;return(t.state=j).strm=t,j.wrap=P,j.gzhead=null,j.w_bits=u,j.w_size=1<<j.w_bits,j.w_mask=j.w_size-1,j.hash_bits=W+7,j.hash_size=1<<j.hash_bits,j.hash_mask=j.hash_size-1,j.hash_shift=~~((j.hash_bits+w-1)/w),j.window=new l.Buf8(2*j.w_size),j.head=new l.Buf16(j.hash_size),j.prev=new l.Buf16(j.w_size),j.lit_bufsize=1<<W+6,j.pending_buf_size=4*j.lit_bufsize,j.pending_buf=new l.Buf8(j.pending_buf_size),j.d_buf=1*j.lit_bufsize,j.l_buf=3*j.lit_bufsize,j.level=s,j.strategy=O,j.method=g,se(t)}d=[new ie(0,0,0,0,function(t,s){var g=65535;for(g>t.pending_buf_size-5&&(g=t.pending_buf_size-5);;){if(t.lookahead<=1){if(V(t),0===t.lookahead&&s===f)return 1;if(0===t.lookahead)break}t.strstart+=t.lookahead,t.lookahead=0;var u=t.block_start+g;if((0===t.strstart||t.strstart>=u)&&(t.lookahead=t.strstart-u,t.strstart=u,F(t,!1),0===t.strm.avail_out)||t.strstart-t.block_start>=t.w_size-C&&(F(t,!1),0===t.strm.avail_out))return 1}return t.insert=0,4===s?(F(t,!0),0===t.strm.avail_out?3:4):(t.strstart>t.block_start&&F(t,!1),1)}),new ie(4,4,8,4,U),new ie(4,5,16,8,U),new ie(4,6,32,32,U),new ie(4,4,16,16,I),new ie(8,16,32,32,I),new ie(8,16,128,128,I),new ie(8,32,128,256,I),new ie(32,128,258,1024,I),new ie(32,258,258,4096,I)],k.deflateInit=function(t,s){return de(t,s,n,15,8,0)},k.deflateInit2=de,k.deflateReset=se,k.deflateResetKeep=H,k.deflateSetHeader=function(t,s){return t&&t.state?2!==t.state.wrap?a:(t.state.gzhead=s,v):a},k.deflate=function(t,s){var g,u,W,O;if(!t||!t.state||5<s||s<0)return t?h(t,a):a;if(u=t.state,!t.output||!t.input&&0!==t.avail_in||666===u.status&&4!==s)return h(t,0===t.avail_out?-5:a);if(u.strm=t,g=u.last_flush,u.last_flush=s,u.status===N)if(2===u.wrap)t.adler=0,E(u,31),E(u,139),E(u,8),u.gzhead?(E(u,(u.gzhead.text?1:0)+(u.gzhead.hcrc?2:0)+(u.gzhead.extra?4:0)+(u.gzhead.name?8:0)+(u.gzhead.comment?16:0)),E(u,255&u.gzhead.time),E(u,u.gzhead.time>>8&255),E(u,u.gzhead.time>>16&255),E(u,u.gzhead.time>>24&255),E(u,9===u.level?2:2<=u.strategy||u.level<2?4:0),E(u,255&u.gzhead.os),u.gzhead.extra&&u.gzhead.extra.length&&(E(u,255&u.gzhead.extra.length),E(u,u.gzhead.extra.length>>8&255)),u.gzhead.hcrc&&(t.adler=p(t.adler,u.pending_buf,u.pending,0)),u.gzindex=0,u.status=69):(E(u,0),E(u,0),E(u,0),E(u,0),E(u,0),E(u,9===u.level?2:2<=u.strategy||u.level<2?4:0),E(u,3),u.status=T);else{var P=n+(u.w_bits-8<<4)<<8;P|=(2<=u.strategy||u.level<2?0:u.level<6?1:6===u.level?2:3)<<6,0!==u.strstart&&(P|=32),P+=31-P%31,u.status=T,J(u,P),0!==u.strstart&&(J(u,t.adler>>>16),J(u,65535&t.adler)),t.adler=1}if(69===u.status)if(u.gzhead.extra){for(W=u.pending;u.gzindex<(65535&u.gzhead.extra.length)&&(u.pending!==u.pending_buf_size||(u.gzhead.hcrc&&u.pending>W&&(t.adler=p(t.adler,u.pending_buf,u.pending-W,W)),D(t),W=u.pending,u.pending!==u.pending_buf_size));)E(u,255&u.gzhead.extra[u.gzindex]),u.gzindex++;u.gzhead.hcrc&&u.pending>W&&(t.adler=p(t.adler,u.pending_buf,u.pending-W,W)),u.gzindex===u.gzhead.extra.length&&(u.gzindex=0,u.status=73)}else u.status=73;if(73===u.status)if(u.gzhead.name){W=u.pending;do{if(u.pending===u.pending_buf_size&&(u.gzhead.hcrc&&u.pending>W&&(t.adler=p(t.adler,u.pending_buf,u.pending-W,W)),D(t),W=u.pending,u.pending===u.pending_buf_size)){O=1;break}O=u.gzindex<u.gzhead.name.length?255&u.gzhead.name.charCodeAt(u.gzindex++):0,E(u,O)}while(0!==O);u.gzhead.hcrc&&u.pending>W&&(t.adler=p(t.adler,u.pending_buf,u.pending-W,W)),0===O&&(u.gzindex=0,u.status=91)}else u.status=91;if(91===u.status)if(u.gzhead.comment){W=u.pending;do{if(u.pending===u.pending_buf_size&&(u.gzhead.hcrc&&u.pending>W&&(t.adler=p(t.adler,u.pending_buf,u.pending-W,W)),D(t),W=u.pending,u.pending===u.pending_buf_size)){O=1;break}O=u.gzindex<u.gzhead.comment.length?255&u.gzhead.comment.charCodeAt(u.gzindex++):0,E(u,O)}while(0!==O);u.gzhead.hcrc&&u.pending>W&&(t.adler=p(t.adler,u.pending_buf,u.pending-W,W)),0===O&&(u.status=103)}else u.status=103;if(103===u.status&&(u.gzhead.hcrc?(u.pending+2>u.pending_buf_size&&D(t),u.pending+2<=u.pending_buf_size&&(E(u,255&t.adler),E(u,t.adler>>8&255),t.adler=0,u.status=T)):u.status=T),0!==u.pending){if(D(t),0===t.avail_out)return u.last_flush=-1,v}else if(0===t.avail_in&&S(s)<=S(g)&&4!==s)return h(t,-5);if(666===u.status&&0!==t.avail_in)return h(t,-5);if(0!==t.avail_in||0!==u.lookahead||s!==f&&666!==u.status){var j=2===u.strategy?function(B,M){for(var K;;){if(0===B.lookahead&&(V(B),0===B.lookahead)){if(M===f)return 1;break}if(B.match_length=0,K=e._tr_tally(B,0,B.window[B.strstart]),B.lookahead--,B.strstart++,K&&(F(B,!1),0===B.strm.avail_out))return 1}return B.insert=0,4===M?(F(B,!0),0===B.strm.avail_out?3:4):B.last_lit&&(F(B,!1),0===B.strm.avail_out)?1:2}(u,s):3===u.strategy?function(B,M){for(var K,G,ne,me,ce=B.window;;){if(B.lookahead<=R){if(V(B),B.lookahead<=R&&M===f)return 1;if(0===B.lookahead)break}if(B.match_length=0,B.lookahead>=w&&0<B.strstart&&(G=ce[ne=B.strstart-1])===ce[++ne]&&G===ce[++ne]&&G===ce[++ne]){me=B.strstart+R;do{}while(G===ce[++ne]&&G===ce[++ne]&&G===ce[++ne]&&G===ce[++ne]&&G===ce[++ne]&&G===ce[++ne]&&G===ce[++ne]&&G===ce[++ne]&&ne<me);B.match_length=R-(me-ne),B.match_length>B.lookahead&&(B.match_length=B.lookahead)}if(B.match_length>=w?(K=e._tr_tally(B,1,B.match_length-w),B.lookahead-=B.match_length,B.strstart+=B.match_length,B.match_length=0):(K=e._tr_tally(B,0,B.window[B.strstart]),B.lookahead--,B.strstart++),K&&(F(B,!1),0===B.strm.avail_out))return 1}return B.insert=0,4===M?(F(B,!0),0===B.strm.avail_out?3:4):B.last_lit&&(F(B,!1),0===B.strm.avail_out)?1:2}(u,s):d[u.level].func(u,s);if(3!==j&&4!==j||(u.status=666),1===j||3===j)return 0===t.avail_out&&(u.last_flush=-1),v;if(2===j&&(1===s?e._tr_align(u):5!==s&&(e._tr_stored_block(u,0,0,!1),3===s&&(r(u.head),0===u.lookahead&&(u.strstart=0,u.block_start=0,u.insert=0))),D(t),0===t.avail_out))return u.last_flush=-1,v}return 4!==s?v:u.wrap<=0?1:(2===u.wrap?(E(u,255&t.adler),E(u,t.adler>>8&255),E(u,t.adler>>16&255),E(u,t.adler>>24&255),E(u,255&t.total_in),E(u,t.total_in>>8&255),E(u,t.total_in>>16&255),E(u,t.total_in>>24&255)):(J(u,t.adler>>>16),J(u,65535&t.adler)),D(t),0<u.wrap&&(u.wrap=-u.wrap),0!==u.pending?v:1)},k.deflateEnd=function(t){var s;return t&&t.state?(s=t.state.status)!==N&&69!==s&&73!==s&&91!==s&&103!==s&&s!==T&&666!==s?h(t,a):(t.state=null,s===T?h(t,-3):v):a},k.deflateSetDictionary=function(t,s){var g,u,W,O,P,j,B,M,K=s.length;if(!t||!t.state||2===(O=(g=t.state).wrap)||1===O&&g.status!==N||g.lookahead)return a;for(1===O&&(t.adler=i(t.adler,s,K,0)),g.wrap=0,K>=g.w_size&&(0===O&&(r(g.head),g.strstart=0,g.block_start=0,g.insert=0),M=new l.Buf8(g.w_size),l.arraySet(M,s,K-g.w_size,g.w_size,0),s=M,K=g.w_size),P=t.avail_in,j=t.next_in,B=t.input,t.avail_in=K,t.next_in=0,t.input=s,V(g);g.lookahead>=w;){for(u=g.strstart,W=g.lookahead-(w-1);g.ins_h=(g.ins_h<<g.hash_shift^g.window[u+w-1])&g.hash_mask,g.prev[u&g.w_mask]=g.head[g.ins_h],g.head[g.ins_h]=u,u++,--W;);g.strstart=u,g.lookahead=w-1,V(g)}return g.strstart+=g.lookahead,g.block_start=g.strstart,g.insert=g.lookahead,g.lookahead=0,g.match_length=g.prev_length=w-1,g.match_available=0,t.next_in=j,t.input=B,t.avail_in=P,g.wrap=O,v},k.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./messages":51,"./trees":52}],47:[function(y,z,k){"use strict";z.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},{}],48:[function(y,z,k){"use strict";z.exports=function(d,l){var e,i,p,m,f,v,a,_,n,o,c,b,A,x,w,R,C,N,T,h,S,r,D,F,E;F=d.input,p=(i=d.next_in)+(d.avail_in-5),E=d.output,f=(m=d.next_out)-(l-d.avail_out),v=m+(d.avail_out-257),a=(e=d.state).dmax,_=e.wsize,n=e.whave,o=e.wnext,c=e.window,b=e.hold,A=e.bits,x=e.lencode,w=e.distcode,R=(1<<e.lenbits)-1,C=(1<<e.distbits)-1;e:do{A<15&&(b+=F[i++]<<A,b+=F[i++]<<(A+=8),A+=8),N=x[b&R];t:for(;;){if(b>>>=T=N>>>24,A-=T,0==(T=N>>>16&255))E[m++]=65535&N;else{if(!(16&T)){if(!(64&T)){N=x[(65535&N)+(b&(1<<T)-1)];continue t}if(32&T){e.mode=12;break e}d.msg="invalid literal/length code",e.mode=30;break e}h=65535&N,(T&=15)&&(A<T&&(b+=F[i++]<<A,A+=8),h+=b&(1<<T)-1,b>>>=T,A-=T),A<15&&(b+=F[i++]<<A,b+=F[i++]<<(A+=8),A+=8),N=w[b&C];r:for(;;){if(b>>>=T=N>>>24,A-=T,!(16&(T=N>>>16&255))){if(!(64&T)){N=w[(65535&N)+(b&(1<<T)-1)];continue r}d.msg="invalid distance code",e.mode=30;break e}if(S=65535&N,A<(T&=15)&&(b+=F[i++]<<A,(A+=8)<T&&(b+=F[i++]<<A,A+=8)),a<(S+=b&(1<<T)-1)){d.msg="invalid distance too far back",e.mode=30;break e}if(b>>>=T,A-=T,(T=m-f)<S){if(n<(T=S-T)&&e.sane){d.msg="invalid distance too far back",e.mode=30;break e}if(D=c,(r=0)===o){if(r+=_-T,T<h){for(h-=T;E[m++]=c[r++],--T;);r=m-S,D=E}}else if(o<T){if(r+=_+o-T,(T-=o)<h){for(h-=T;E[m++]=c[r++],--T;);if(r=0,o<h){for(h-=T=o;E[m++]=c[r++],--T;);r=m-S,D=E}}}else if(r+=o-T,T<h){for(h-=T;E[m++]=c[r++],--T;);r=m-S,D=E}for(;2<h;)E[m++]=D[r++],E[m++]=D[r++],E[m++]=D[r++],h-=3;h&&(E[m++]=D[r++],1<h&&(E[m++]=D[r++]))}else{for(r=m-S;E[m++]=E[r++],E[m++]=E[r++],E[m++]=E[r++],2<(h-=3););h&&(E[m++]=E[r++],1<h&&(E[m++]=E[r++]))}break}}break}}while(i<p&&m<v);i-=h=A>>3,b&=(1<<(A-=h<<3))-1,d.next_in=i,d.next_out=m,d.avail_in=i<p?p-i+5:5-(i-p),d.avail_out=m<v?v-m+257:257-(m-v),e.hold=b,e.bits=A}},{}],49:[function(y,z,k){"use strict";var d=y("../utils/common"),l=y("./adler32"),e=y("./crc32"),i=y("./inffast"),p=y("./inftrees"),m=0,f=-2,v=1,a=852,_=592;function n(h){return(h>>>24&255)+(h>>>8&65280)+((65280&h)<<8)+((255&h)<<24)}function o(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new d.Buf16(320),this.work=new d.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function c(h){var S;return h&&h.state?(h.total_in=h.total_out=(S=h.state).total=0,h.msg="",S.wrap&&(h.adler=1&S.wrap),S.mode=v,S.last=0,S.havedict=0,S.dmax=32768,S.head=null,S.hold=0,S.bits=0,S.lencode=S.lendyn=new d.Buf32(a),S.distcode=S.distdyn=new d.Buf32(_),S.sane=1,S.back=-1,m):f}function b(h){var S;return h&&h.state?((S=h.state).wsize=0,S.whave=0,S.wnext=0,c(h)):f}function A(h,S){var r,D;return h&&h.state?(D=h.state,S<0?(r=0,S=-S):(r=1+(S>>4),S<48&&(S&=15)),S&&(S<8||15<S)?f:(null!==D.window&&D.wbits!==S&&(D.window=null),D.wrap=r,D.wbits=S,b(h))):f}function x(h,S){var r,D;return h?(D=new o,(h.state=D).window=null,(r=A(h,S))!==m&&(h.state=null),r):f}var w,R,C=!0;function N(h){if(C){var S;for(w=new d.Buf32(512),R=new d.Buf32(32),S=0;S<144;)h.lens[S++]=8;for(;S<256;)h.lens[S++]=9;for(;S<280;)h.lens[S++]=7;for(;S<288;)h.lens[S++]=8;for(p(1,h.lens,0,288,w,0,h.work,{bits:9}),S=0;S<32;)h.lens[S++]=5;p(2,h.lens,0,32,R,0,h.work,{bits:5}),C=!1}h.lencode=w,h.lenbits=9,h.distcode=R,h.distbits=5}function T(h,S,r,D){var F,E=h.state;return null===E.window&&(E.wsize=1<<E.wbits,E.wnext=0,E.whave=0,E.window=new d.Buf8(E.wsize)),D>=E.wsize?(d.arraySet(E.window,S,r-E.wsize,E.wsize,0),E.wnext=0,E.whave=E.wsize):(D<(F=E.wsize-E.wnext)&&(F=D),d.arraySet(E.window,S,r-D,F,E.wnext),(D-=F)?(d.arraySet(E.window,S,r-D,D,0),E.wnext=D,E.whave=E.wsize):(E.wnext+=F,E.wnext===E.wsize&&(E.wnext=0),E.whave<E.wsize&&(E.whave+=F))),0}k.inflateReset=b,k.inflateReset2=A,k.inflateResetKeep=c,k.inflateInit=function(h){return x(h,15)},k.inflateInit2=x,k.inflate=function(h,S){var r,D,F,E,J,Z,V,U,I,ie,te,H,se,de,t,s,g,u,W,O,P,j,B,M,K=0,G=new d.Buf8(4),ne=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!h||!h.state||!h.output||!h.input&&0!==h.avail_in)return f;12===(r=h.state).mode&&(r.mode=13),J=h.next_out,F=h.output,E=h.next_in,D=h.input,U=r.hold,I=r.bits,ie=Z=h.avail_in,te=V=h.avail_out,j=m;e:for(;;)switch(r.mode){case v:if(0===r.wrap){r.mode=13;break}for(;I<16;){if(0===Z)break e;Z--,U+=D[E++]<<I,I+=8}if(2&r.wrap&&35615===U){G[r.check=0]=255&U,G[1]=U>>>8&255,r.check=e(r.check,G,2,0),I=U=0,r.mode=2;break}if(r.flags=0,r.head&&(r.head.done=!1),!(1&r.wrap)||(((255&U)<<8)+(U>>8))%31){h.msg="incorrect header check",r.mode=30;break}if(8!=(15&U)){h.msg="unknown compression method",r.mode=30;break}if(I-=4,P=8+(15&(U>>>=4)),0===r.wbits)r.wbits=P;else if(P>r.wbits){h.msg="invalid window size",r.mode=30;break}r.dmax=1<<P,h.adler=r.check=1,r.mode=512&U?10:12,I=U=0;break;case 2:for(;I<16;){if(0===Z)break e;Z--,U+=D[E++]<<I,I+=8}if(r.flags=U,8!=(255&r.flags)){h.msg="unknown compression method",r.mode=30;break}if(57344&r.flags){h.msg="unknown header flags set",r.mode=30;break}r.head&&(r.head.text=U>>8&1),512&r.flags&&(G[0]=255&U,G[1]=U>>>8&255,r.check=e(r.check,G,2,0)),I=U=0,r.mode=3;case 3:for(;I<32;){if(0===Z)break e;Z--,U+=D[E++]<<I,I+=8}r.head&&(r.head.time=U),512&r.flags&&(G[0]=255&U,G[1]=U>>>8&255,G[2]=U>>>16&255,G[3]=U>>>24&255,r.check=e(r.check,G,4,0)),I=U=0,r.mode=4;case 4:for(;I<16;){if(0===Z)break e;Z--,U+=D[E++]<<I,I+=8}r.head&&(r.head.xflags=255&U,r.head.os=U>>8),512&r.flags&&(G[0]=255&U,G[1]=U>>>8&255,r.check=e(r.check,G,2,0)),I=U=0,r.mode=5;case 5:if(1024&r.flags){for(;I<16;){if(0===Z)break e;Z--,U+=D[E++]<<I,I+=8}r.length=U,r.head&&(r.head.extra_len=U),512&r.flags&&(G[0]=255&U,G[1]=U>>>8&255,r.check=e(r.check,G,2,0)),I=U=0}else r.head&&(r.head.extra=null);r.mode=6;case 6:if(1024&r.flags&&(Z<(H=r.length)&&(H=Z),H&&(r.head&&(P=r.head.extra_len-r.length,r.head.extra||(r.head.extra=new Array(r.head.extra_len)),d.arraySet(r.head.extra,D,E,H,P)),512&r.flags&&(r.check=e(r.check,D,H,E)),Z-=H,E+=H,r.length-=H),r.length))break e;r.length=0,r.mode=7;case 7:if(2048&r.flags){if(0===Z)break e;for(H=0;P=D[E+H++],r.head&&P&&r.length<65536&&(r.head.name+=String.fromCharCode(P)),P&&H<Z;);if(512&r.flags&&(r.check=e(r.check,D,H,E)),Z-=H,E+=H,P)break e}else r.head&&(r.head.name=null);r.length=0,r.mode=8;case 8:if(4096&r.flags){if(0===Z)break e;for(H=0;P=D[E+H++],r.head&&P&&r.length<65536&&(r.head.comment+=String.fromCharCode(P)),P&&H<Z;);if(512&r.flags&&(r.check=e(r.check,D,H,E)),Z-=H,E+=H,P)break e}else r.head&&(r.head.comment=null);r.mode=9;case 9:if(512&r.flags){for(;I<16;){if(0===Z)break e;Z--,U+=D[E++]<<I,I+=8}if(U!==(65535&r.check)){h.msg="header crc mismatch",r.mode=30;break}I=U=0}r.head&&(r.head.hcrc=r.flags>>9&1,r.head.done=!0),h.adler=r.check=0,r.mode=12;break;case 10:for(;I<32;){if(0===Z)break e;Z--,U+=D[E++]<<I,I+=8}h.adler=r.check=n(U),I=U=0,r.mode=11;case 11:if(0===r.havedict)return h.next_out=J,h.avail_out=V,h.next_in=E,h.avail_in=Z,r.hold=U,r.bits=I,2;h.adler=r.check=1,r.mode=12;case 12:if(5===S||6===S)break e;case 13:if(r.last){U>>>=7&I,I-=7&I,r.mode=27;break}for(;I<3;){if(0===Z)break e;Z--,U+=D[E++]<<I,I+=8}switch(r.last=1&U,I-=1,3&(U>>>=1)){case 0:r.mode=14;break;case 1:if(N(r),r.mode=20,6!==S)break;U>>>=2,I-=2;break e;case 2:r.mode=17;break;case 3:h.msg="invalid block type",r.mode=30}U>>>=2,I-=2;break;case 14:for(U>>>=7&I,I-=7&I;I<32;){if(0===Z)break e;Z--,U+=D[E++]<<I,I+=8}if((65535&U)!=(U>>>16^65535)){h.msg="invalid stored block lengths",r.mode=30;break}if(r.length=65535&U,I=U=0,r.mode=15,6===S)break e;case 15:r.mode=16;case 16:if(H=r.length){if(Z<H&&(H=Z),V<H&&(H=V),0===H)break e;d.arraySet(F,D,E,H,J),Z-=H,E+=H,V-=H,J+=H,r.length-=H;break}r.mode=12;break;case 17:for(;I<14;){if(0===Z)break e;Z--,U+=D[E++]<<I,I+=8}if(r.nlen=257+(31&U),I-=5,r.ndist=1+(31&(U>>>=5)),I-=5,r.ncode=4+(15&(U>>>=5)),U>>>=4,I-=4,286<r.nlen||30<r.ndist){h.msg="too many length or distance symbols",r.mode=30;break}r.have=0,r.mode=18;case 18:for(;r.have<r.ncode;){for(;I<3;){if(0===Z)break e;Z--,U+=D[E++]<<I,I+=8}r.lens[ne[r.have++]]=7&U,U>>>=3,I-=3}for(;r.have<19;)r.lens[ne[r.have++]]=0;if(r.lencode=r.lendyn,r.lenbits=7,j=p(0,r.lens,0,19,r.lencode,0,r.work,B={bits:r.lenbits}),r.lenbits=B.bits,j){h.msg="invalid code lengths set",r.mode=30;break}r.have=0,r.mode=19;case 19:for(;r.have<r.nlen+r.ndist;){for(;s=(K=r.lencode[U&(1<<r.lenbits)-1])>>>16&255,g=65535&K,!((t=K>>>24)<=I);){if(0===Z)break e;Z--,U+=D[E++]<<I,I+=8}if(g<16)U>>>=t,I-=t,r.lens[r.have++]=g;else{if(16===g){for(M=t+2;I<M;){if(0===Z)break e;Z--,U+=D[E++]<<I,I+=8}if(U>>>=t,I-=t,0===r.have){h.msg="invalid bit length repeat",r.mode=30;break}P=r.lens[r.have-1],H=3+(3&U),U>>>=2,I-=2}else if(17===g){for(M=t+3;I<M;){if(0===Z)break e;Z--,U+=D[E++]<<I,I+=8}I-=t,P=0,H=3+(7&(U>>>=t)),U>>>=3,I-=3}else{for(M=t+7;I<M;){if(0===Z)break e;Z--,U+=D[E++]<<I,I+=8}I-=t,P=0,H=11+(127&(U>>>=t)),U>>>=7,I-=7}if(r.have+H>r.nlen+r.ndist){h.msg="invalid bit length repeat",r.mode=30;break}for(;H--;)r.lens[r.have++]=P}}if(30===r.mode)break;if(0===r.lens[256]){h.msg="invalid code -- missing end-of-block",r.mode=30;break}if(r.lenbits=9,j=p(1,r.lens,0,r.nlen,r.lencode,0,r.work,B={bits:r.lenbits}),r.lenbits=B.bits,j){h.msg="invalid literal/lengths set",r.mode=30;break}if(r.distbits=6,r.distcode=r.distdyn,j=p(2,r.lens,r.nlen,r.ndist,r.distcode,0,r.work,B={bits:r.distbits}),r.distbits=B.bits,j){h.msg="invalid distances set",r.mode=30;break}if(r.mode=20,6===S)break e;case 20:r.mode=21;case 21:if(6<=Z&&258<=V){h.next_out=J,h.avail_out=V,h.next_in=E,h.avail_in=Z,r.hold=U,r.bits=I,i(h,te),J=h.next_out,F=h.output,V=h.avail_out,E=h.next_in,D=h.input,Z=h.avail_in,U=r.hold,I=r.bits,12===r.mode&&(r.back=-1);break}for(r.back=0;s=(K=r.lencode[U&(1<<r.lenbits)-1])>>>16&255,g=65535&K,!((t=K>>>24)<=I);){if(0===Z)break e;Z--,U+=D[E++]<<I,I+=8}if(s&&!(240&s)){for(u=t,W=s,O=g;s=(K=r.lencode[O+((U&(1<<u+W)-1)>>u)])>>>16&255,g=65535&K,!(u+(t=K>>>24)<=I);){if(0===Z)break e;Z--,U+=D[E++]<<I,I+=8}U>>>=u,I-=u,r.back+=u}if(U>>>=t,I-=t,r.back+=t,r.length=g,0===s){r.mode=26;break}if(32&s){r.back=-1,r.mode=12;break}if(64&s){h.msg="invalid literal/length code",r.mode=30;break}r.extra=15&s,r.mode=22;case 22:if(r.extra){for(M=r.extra;I<M;){if(0===Z)break e;Z--,U+=D[E++]<<I,I+=8}r.length+=U&(1<<r.extra)-1,U>>>=r.extra,I-=r.extra,r.back+=r.extra}r.was=r.length,r.mode=23;case 23:for(;s=(K=r.distcode[U&(1<<r.distbits)-1])>>>16&255,g=65535&K,!((t=K>>>24)<=I);){if(0===Z)break e;Z--,U+=D[E++]<<I,I+=8}if(!(240&s)){for(u=t,W=s,O=g;s=(K=r.distcode[O+((U&(1<<u+W)-1)>>u)])>>>16&255,g=65535&K,!(u+(t=K>>>24)<=I);){if(0===Z)break e;Z--,U+=D[E++]<<I,I+=8}U>>>=u,I-=u,r.back+=u}if(U>>>=t,I-=t,r.back+=t,64&s){h.msg="invalid distance code",r.mode=30;break}r.offset=g,r.extra=15&s,r.mode=24;case 24:if(r.extra){for(M=r.extra;I<M;){if(0===Z)break e;Z--,U+=D[E++]<<I,I+=8}r.offset+=U&(1<<r.extra)-1,U>>>=r.extra,I-=r.extra,r.back+=r.extra}if(r.offset>r.dmax){h.msg="invalid distance too far back",r.mode=30;break}r.mode=25;case 25:if(0===V)break e;if(r.offset>(H=te-V)){if((H=r.offset-H)>r.whave&&r.sane){h.msg="invalid distance too far back",r.mode=30;break}se=H>r.wnext?r.wsize-(H-=r.wnext):r.wnext-H,H>r.length&&(H=r.length),de=r.window}else de=F,se=J-r.offset,H=r.length;for(V<H&&(H=V),V-=H,r.length-=H;F[J++]=de[se++],--H;);0===r.length&&(r.mode=21);break;case 26:if(0===V)break e;F[J++]=r.length,V--,r.mode=21;break;case 27:if(r.wrap){for(;I<32;){if(0===Z)break e;Z--,U|=D[E++]<<I,I+=8}if(h.total_out+=te-=V,r.total+=te,te&&(h.adler=r.check=r.flags?e(r.check,F,te,J-te):l(r.check,F,te,J-te)),te=V,(r.flags?U:n(U))!==r.check){h.msg="incorrect data check",r.mode=30;break}I=U=0}r.mode=28;case 28:if(r.wrap&&r.flags){for(;I<32;){if(0===Z)break e;Z--,U+=D[E++]<<I,I+=8}if(U!==(4294967295&r.total)){h.msg="incorrect length check",r.mode=30;break}I=U=0}r.mode=29;case 29:j=1;break e;case 30:j=-3;break e;case 31:return-4;default:return f}return h.next_out=J,h.avail_out=V,h.next_in=E,h.avail_in=Z,r.hold=U,r.bits=I,(r.wsize||te!==h.avail_out&&r.mode<30&&(r.mode<27||4!==S))&&T(h,h.output,h.next_out,te-h.avail_out)?(r.mode=31,-4):(te-=h.avail_out,h.total_in+=ie-=h.avail_in,h.total_out+=te,r.total+=te,r.wrap&&te&&(h.adler=r.check=r.flags?e(r.check,F,te,h.next_out-te):l(r.check,F,te,h.next_out-te)),h.data_type=r.bits+(r.last?64:0)+(12===r.mode?128:0)+(20===r.mode||15===r.mode?256:0),(0==ie&&0===te||4===S)&&j===m&&(j=-5),j)},k.inflateEnd=function(h){if(!h||!h.state)return f;var S=h.state;return S.window&&(S.window=null),h.state=null,m},k.inflateGetHeader=function(h,S){var r;return h&&h.state&&2&(r=h.state).wrap?((r.head=S).done=!1,m):f},k.inflateSetDictionary=function(h,S){var r,D=S.length;return h&&h.state?0!==(r=h.state).wrap&&11!==r.mode?f:11===r.mode&&l(1,S,D,0)!==r.check?-3:T(h,S,D,D)?(r.mode=31,-4):(r.havedict=1,m):f},k.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./inffast":48,"./inftrees":50}],50:[function(y,z,k){"use strict";var d=y("../utils/common"),l=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],e=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],i=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],p=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];z.exports=function(m,f,v,a,_,n,o,c){var b,A,x,w,R,C,N,T,h,S=c.bits,r=0,D=0,F=0,E=0,J=0,Z=0,V=0,U=0,I=0,ie=0,te=null,H=0,se=new d.Buf16(16),de=new d.Buf16(16),t=null,s=0;for(r=0;r<=15;r++)se[r]=0;for(D=0;D<a;D++)se[f[v+D]]++;for(J=S,E=15;1<=E&&0===se[E];E--);if(E<J&&(J=E),0===E)return _[n++]=20971520,_[n++]=20971520,c.bits=1,0;for(F=1;F<E&&0===se[F];F++);for(J<F&&(J=F),r=U=1;r<=15;r++)if(U<<=1,(U-=se[r])<0)return-1;if(0<U&&(0===m||1!==E))return-1;for(de[1]=0,r=1;r<15;r++)de[r+1]=de[r]+se[r];for(D=0;D<a;D++)0!==f[v+D]&&(o[de[f[v+D]]++]=D);if(C=0===m?(te=t=o,19):1===m?(te=l,H-=257,t=e,s-=257,256):(te=i,t=p,-1),r=F,R=n,V=D=ie=0,x=-1,w=(I=1<<(Z=J))-1,1===m&&852<I||2===m&&592<I)return 1;for(;;){for(N=r-V,h=o[D]<C?(T=0,o[D]):o[D]>C?(T=t[s+o[D]],te[H+o[D]]):(T=96,0),b=1<<r-V,F=A=1<<Z;_[R+(ie>>V)+(A-=b)]=N<<24|T<<16|h,0!==A;);for(b=1<<r-1;ie&b;)b>>=1;if(0!==b?(ie&=b-1,ie+=b):ie=0,D++,0==--se[r]){if(r===E)break;r=f[v+o[D]]}if(J<r&&(ie&w)!==x){for(0===V&&(V=J),R+=F,U=1<<(Z=r-V);Z+V<E&&!((U-=se[Z+V])<=0);)Z++,U<<=1;if(I+=1<<Z,1===m&&852<I||2===m&&592<I)return 1;_[x=ie&w]=J<<24|Z<<16|R-n}}return 0!==ie&&(_[R+ie]=r-V<<24|4194304),c.bits=J,0}},{"../utils/common":41}],51:[function(y,z,k){"use strict";z.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],52:[function(y,z,k){"use strict";var d=y("../utils/common");function l(s){for(var g=s.length;0<=--g;)s[g]=0}var m=15,f=16,v=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],a=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],_=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],n=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],o=new Array(576);l(o);var c=new Array(60);l(c);var b=new Array(512);l(b);var A=new Array(256);l(A);var x=new Array(29);l(x);var w,R,C,N=new Array(30);function T(s,g,u,W,O){this.static_tree=s,this.extra_bits=g,this.extra_base=u,this.elems=W,this.max_length=O,this.has_stree=s&&s.length}function h(s,g){this.dyn_tree=s,this.max_code=0,this.stat_desc=g}function S(s){return s<256?b[s]:b[256+(s>>>7)]}function r(s,g){s.pending_buf[s.pending++]=255&g,s.pending_buf[s.pending++]=g>>>8&255}function D(s,g,u){s.bi_valid>f-u?(s.bi_buf|=g<<s.bi_valid&65535,r(s,s.bi_buf),s.bi_buf=g>>f-s.bi_valid,s.bi_valid+=u-f):(s.bi_buf|=g<<s.bi_valid&65535,s.bi_valid+=u)}function F(s,g,u){D(s,u[2*g],u[2*g+1])}function E(s,g){for(var u=0;u|=1&s,s>>>=1,u<<=1,0<--g;);return u>>>1}function J(s,g,u){var W,O,P=new Array(m+1),j=0;for(W=1;W<=m;W++)P[W]=j=j+u[W-1]<<1;for(O=0;O<=g;O++){var B=s[2*O+1];0!==B&&(s[2*O]=E(P[B]++,B))}}function Z(s){var g;for(g=0;g<286;g++)s.dyn_ltree[2*g]=0;for(g=0;g<30;g++)s.dyn_dtree[2*g]=0;for(g=0;g<19;g++)s.bl_tree[2*g]=0;s.dyn_ltree[512]=1,s.opt_len=s.static_len=0,s.last_lit=s.matches=0}function V(s){8<s.bi_valid?r(s,s.bi_buf):0<s.bi_valid&&(s.pending_buf[s.pending++]=s.bi_buf),s.bi_buf=0,s.bi_valid=0}function U(s,g,u,W){var O=2*g,P=2*u;return s[O]<s[P]||s[O]===s[P]&&W[g]<=W[u]}function I(s,g,u){for(var W=s.heap[u],O=u<<1;O<=s.heap_len&&(O<s.heap_len&&U(g,s.heap[O+1],s.heap[O],s.depth)&&O++,!U(g,W,s.heap[O],s.depth));)s.heap[u]=s.heap[O],u=O,O<<=1;s.heap[u]=W}function ie(s,g,u){var W,O,P,j,B=0;if(0!==s.last_lit)for(;W=s.pending_buf[s.d_buf+2*B]<<8|s.pending_buf[s.d_buf+2*B+1],O=s.pending_buf[s.l_buf+B],B++,0===W?F(s,O,g):(F(s,(P=A[O])+256+1,g),0!==(j=v[P])&&D(s,O-=x[P],j),F(s,P=S(--W),u),0!==(j=a[P])&&D(s,W-=N[P],j)),B<s.last_lit;);F(s,256,g)}function te(s,g){var u,W,O,P=g.dyn_tree,j=g.stat_desc.static_tree,B=g.stat_desc.has_stree,M=g.stat_desc.elems,K=-1;for(s.heap_len=0,s.heap_max=573,u=0;u<M;u++)0!==P[2*u]?(s.heap[++s.heap_len]=K=u,s.depth[u]=0):P[2*u+1]=0;for(;s.heap_len<2;)P[2*(O=s.heap[++s.heap_len]=K<2?++K:0)]=1,s.depth[O]=0,s.opt_len--,B&&(s.static_len-=j[2*O+1]);for(g.max_code=K,u=s.heap_len>>1;1<=u;u--)I(s,P,u);for(O=M;u=s.heap[1],s.heap[1]=s.heap[s.heap_len--],I(s,P,1),W=s.heap[1],s.heap[--s.heap_max]=u,s.heap[--s.heap_max]=W,P[2*O]=P[2*u]+P[2*W],s.depth[O]=(s.depth[u]>=s.depth[W]?s.depth[u]:s.depth[W])+1,P[2*u+1]=P[2*W+1]=O,s.heap[1]=O++,I(s,P,1),2<=s.heap_len;);s.heap[--s.heap_max]=s.heap[1],function(G,ne){var me,ce,Se,he,ke,Ae,ge=ne.dyn_tree,De=ne.max_code,ze=ne.stat_desc.static_tree,Le=ne.stat_desc.has_stree,Oe=ne.stat_desc.extra_bits,Be=ne.stat_desc.extra_base,xe=ne.stat_desc.max_length,Te=0;for(he=0;he<=m;he++)G.bl_count[he]=0;for(ge[2*G.heap[G.heap_max]+1]=0,me=G.heap_max+1;me<573;me++)xe<(he=ge[2*ge[2*(ce=G.heap[me])+1]+1]+1)&&(he=xe,Te++),ge[2*ce+1]=he,De<ce||(G.bl_count[he]++,ke=0,Be<=ce&&(ke=Oe[ce-Be]),G.opt_len+=(Ae=ge[2*ce])*(he+ke),Le&&(G.static_len+=Ae*(ze[2*ce+1]+ke)));if(0!==Te){do{for(he=xe-1;0===G.bl_count[he];)he--;G.bl_count[he]--,G.bl_count[he+1]+=2,G.bl_count[xe]--,Te-=2}while(0<Te);for(he=xe;0!==he;he--)for(ce=G.bl_count[he];0!==ce;)De<(Se=G.heap[--me])||(ge[2*Se+1]!==he&&(G.opt_len+=(he-ge[2*Se+1])*ge[2*Se],ge[2*Se+1]=he),ce--)}}(s,g),J(P,K,s.bl_count)}function H(s,g,u){var W,O,P=-1,j=g[1],B=0,M=7,K=4;for(0===j&&(M=138,K=3),g[2*(u+1)+1]=65535,W=0;W<=u;W++)O=j,j=g[2*(W+1)+1],++B<M&&O===j||(B<K?s.bl_tree[2*O]+=B:0!==O?(O!==P&&s.bl_tree[2*O]++,s.bl_tree[32]++):B<=10?s.bl_tree[34]++:s.bl_tree[36]++,P=O,K=(B=0)===j?(M=138,3):O===j?(M=6,3):(M=7,4))}function se(s,g,u){var W,O,P=-1,j=g[1],B=0,M=7,K=4;for(0===j&&(M=138,K=3),W=0;W<=u;W++)if(O=j,j=g[2*(W+1)+1],!(++B<M&&O===j)){if(B<K)for(;F(s,O,s.bl_tree),0!=--B;);else 0!==O?(O!==P&&(F(s,O,s.bl_tree),B--),F(s,16,s.bl_tree),D(s,B-3,2)):B<=10?(F(s,17,s.bl_tree),D(s,B-3,3)):(F(s,18,s.bl_tree),D(s,B-11,7));P=O,K=(B=0)===j?(M=138,3):O===j?(M=6,3):(M=7,4)}}l(N);var de=!1;function t(s,g,u,W){var O,P,j;D(s,0+(W?1:0),3),P=g,j=u,V(O=s),r(O,j),r(O,~j),d.arraySet(O.pending_buf,O.window,P,j,O.pending),O.pending+=j}k._tr_init=function(s){de||(function(){var g,u,W,O,P,j=new Array(m+1);for(O=W=0;O<28;O++)for(x[O]=W,g=0;g<1<<v[O];g++)A[W++]=O;for(A[W-1]=O,O=P=0;O<16;O++)for(N[O]=P,g=0;g<1<<a[O];g++)b[P++]=O;for(P>>=7;O<30;O++)for(N[O]=P<<7,g=0;g<1<<a[O]-7;g++)b[256+P++]=O;for(u=0;u<=m;u++)j[u]=0;for(g=0;g<=143;)o[2*g+1]=8,g++,j[8]++;for(;g<=255;)o[2*g+1]=9,g++,j[9]++;for(;g<=279;)o[2*g+1]=7,g++,j[7]++;for(;g<=287;)o[2*g+1]=8,g++,j[8]++;for(J(o,287,j),g=0;g<30;g++)c[2*g+1]=5,c[2*g]=E(g,5);w=new T(o,v,257,286,m),R=new T(c,a,0,30,m),C=new T(new Array(0),_,0,19,7)}(),de=!0),s.l_desc=new h(s.dyn_ltree,w),s.d_desc=new h(s.dyn_dtree,R),s.bl_desc=new h(s.bl_tree,C),s.bi_buf=0,s.bi_valid=0,Z(s)},k._tr_stored_block=t,k._tr_flush_block=function(s,g,u,W){var O,P,j=0;0<s.level?(2===s.strm.data_type&&(s.strm.data_type=function(B){var M,K=4093624447;for(M=0;M<=31;M++,K>>>=1)if(1&K&&0!==B.dyn_ltree[2*M])return 0;if(0!==B.dyn_ltree[18]||0!==B.dyn_ltree[20]||0!==B.dyn_ltree[26])return 1;for(M=32;M<256;M++)if(0!==B.dyn_ltree[2*M])return 1;return 0}(s)),te(s,s.l_desc),te(s,s.d_desc),j=function(B){var M;for(H(B,B.dyn_ltree,B.l_desc.max_code),H(B,B.dyn_dtree,B.d_desc.max_code),te(B,B.bl_desc),M=18;3<=M&&0===B.bl_tree[2*n[M]+1];M--);return B.opt_len+=3*(M+1)+5+5+4,M}(s),(P=s.static_len+3+7>>>3)<=(O=s.opt_len+3+7>>>3)&&(O=P)):O=P=u+5,u+4<=O&&-1!==g?t(s,g,u,W):4===s.strategy||P===O?(D(s,2+(W?1:0),3),ie(s,o,c)):(D(s,4+(W?1:0),3),function(B,M,K,G){var ne;for(D(B,M-257,5),D(B,K-1,5),D(B,G-4,4),ne=0;ne<G;ne++)D(B,B.bl_tree[2*n[ne]+1],3);se(B,B.dyn_ltree,M-1),se(B,B.dyn_dtree,K-1)}(s,s.l_desc.max_code+1,s.d_desc.max_code+1,j+1),ie(s,s.dyn_ltree,s.dyn_dtree)),Z(s),W&&V(s)},k._tr_tally=function(s,g,u){return s.pending_buf[s.d_buf+2*s.last_lit]=g>>>8&255,s.pending_buf[s.d_buf+2*s.last_lit+1]=255&g,s.pending_buf[s.l_buf+s.last_lit]=255&u,s.last_lit++,0===g?s.dyn_ltree[2*u]++:(s.matches++,g--,s.dyn_ltree[2*(A[u]+256+1)]++,s.dyn_dtree[2*S(g)]++),s.last_lit===s.lit_bufsize-1},k._tr_align=function(s){var g;D(s,2,3),F(s,256,o),16===(g=s).bi_valid?(r(g,g.bi_buf),g.bi_buf=0,g.bi_valid=0):8<=g.bi_valid&&(g.pending_buf[g.pending++]=255&g.bi_buf,g.bi_buf>>=8,g.bi_valid-=8)}},{"../utils/common":41}],53:[function(y,z,k){"use strict";z.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},{}],54:[function(y,z,k){(function(d){!function(l,e){"use strict";if(!l.setImmediate){var i,p,m,f,v=1,a={},_=!1,n=l.document,o=Object.getPrototypeOf&&Object.getPrototypeOf(l);o=o&&o.setTimeout?o:l,i="[object process]"==={}.toString.call(l.process)?function(x){process.nextTick(function(){b(x)})}:function(){if(l.postMessage&&!l.importScripts){var x=!0,w=l.onmessage;return l.onmessage=function(){x=!1},l.postMessage("","*"),l.onmessage=w,x}}()?(f="setImmediate$"+Math.random()+"$",l.addEventListener?l.addEventListener("message",A,!1):l.attachEvent("onmessage",A),function(x){l.postMessage(f+x,"*")}):l.MessageChannel?((m=new MessageChannel).port1.onmessage=function(x){b(x.data)},function(x){m.port2.postMessage(x)}):n&&"onreadystatechange"in n.createElement("script")?(p=n.documentElement,function(x){var w=n.createElement("script");w.onreadystatechange=function(){b(x),w.onreadystatechange=null,p.removeChild(w),w=null},p.appendChild(w)}):function(x){setTimeout(b,0,x)},o.setImmediate=function(x){"function"!=typeof x&&(x=new Function(""+x));for(var w=new Array(arguments.length-1),R=0;R<w.length;R++)w[R]=arguments[R+1];return a[v]={callback:x,args:w},i(v),v++},o.clearImmediate=c}function c(x){delete a[x]}function b(x){if(_)setTimeout(b,0,x);else{var w=a[x];if(w){_=!0;try{!function(R){var C=R.callback,N=R.args;switch(N.length){case 0:C();break;case 1:C(N[0]);break;case 2:C(N[0],N[1]);break;case 3:C(N[0],N[1],N[2]);break;default:C.apply(e,N)}}(w)}finally{c(x),_=!1}}}}function A(x){x.source===l&&"string"==typeof x.data&&0===x.data.indexOf(f)&&b(+x.data.slice(f.length))}}(typeof self>"u"?void 0===d?this:d:self)}).call(this,void 0!==Q.g?Q.g:typeof self<"u"?self:typeof window<"u"?window:{})},{}]},{},[10])(10)},472:(ae,$,Q)=>{Object.defineProperty($,"__esModule",{value:!0}),$.UniversalAudio=void 0;const y=Q(710),z=Q(189),k=Q(837).r;Q(316);class d extends HTMLAudioElement{constructor(){super(...arguments),this.using_attribute="",this.with_attribute=[],this.out="wav",this.scriptDirectory=document.currentScript?this.initScriptDirectory(document.currentScript.src):"",this.useCache=!1,this.useWorker=!1,this.printProgess=!1,this.cache=null,this.worker=null,this.script=null,this.core=null,this.urlToRevoke=[],this._messageHandlerNoWorker=null}initScriptDirectory(e){return 0!==e.indexOf("blob:")?e.substr(0,e.replace(/[?#].*/,"").lastIndexOf("/")+1):""}get decodingPromise(){return this._decodingPromise}properties(e){return this.sendMessage({event:"get_properties",properties:e})}set enable_reporting(e){this.sendMessage({event:"set_properties",properties:{enable_reporting:e}})}sendMessage(e){return this.worker?this.sendMessageWorker(e):(0,z.sendMessageNoWorker)(this,e)}sendMessageWorker(e){this.worker&&(this.worker.postMessage(e),this.worker.addEventListener("message",i=>i.data))}dataURLToSrc(e,i){e&&(this.useCache&&this.cache&&!i&&this.cache.put(this.src,new Response(e)),this.src=URL.createObjectURL(e))}processMessages(e,i,p){function m(f){return f.replaceAll("[37m","").replaceAll("[0m","")}"exit_code"in i&&(i.blob?(e.dataURLToSrc(i.blob,!1),p(e.src)):p(null)),i.print&&(e.print_attribute?e.print_attribute.value+=m(i.print)+"\n":console.log(i.print)),i.printErr&&(e.error_attribute?e.error_attribute.value+=m(i.printErr)+"\n":console.log(i.printErr))}launchWorker(e,i,p){const m=new Worker(e);m&&(m.postMessage(i),m.addEventListener("message",f=>{this.processMessages(this,f.data,p)})),this.worker=m}async universal_decode(){return new Promise(async(e,i)=>{if(this.useCache){try{this.cache=this.cache||await caches.open("universal-audio_"+k)}catch{}const o=this.cache&&await this.cache.match(this.src);if(o){const c=await o.blob();return this.dataURLToSrc(c,!0),void e(this.src)}}let p="";try{const o=new URL(this.src);"blob:"===o.protocol?p=(await fetch(this.src)).headers.get("Content-Type"):"http:"!==o.protocol&&"https:"!==o.protocol||(p=(await fetch(this.src,{method:"HEAD"})).headers.get("Content-Type"))}catch{return void console.log("failed to fetch head of the content "+this.src)}let m=this.src,f=null,v=null,a=[];if(this.src&&this.src.endsWith(".bvr")||"application/x-bevara"==p){const o=new y,c=await fetch(this.src);if(!c.ok)return void i();const b=await o.loadAsync(c.blob()),A=await b.file("meta.json").async("string"),x=JSON.parse(A);this.core=x.core;const w=async R=>{if(Array.isArray(R)){const C=(await Promise.all(R.map(N=>b.file(N).async("blob")))).map(N=>URL.createObjectURL(N));return this.urlToRevoke=this.urlToRevoke.concat(C),C}if("string"==typeof R){const C=await b.file(R).async("blob"),N=URL.createObjectURL(C);return this.urlToRevoke.push(N),N}return null};m=await w(x.source),f=await w(x.core+".js"),v=await w(x.core+".wasm"),a=await w(x.decoders.map(R=>R+".wasm"))}const _=this.getAttribute("script-directory")?this.getAttribute("script-directory"):"";if(this.getAttribute("using")&&(this.core=this.getAttribute("using"),f=await(0,z.addScriptDirectoryAndExtIfNeeded)(_,this.getAttribute("using"),".js"),v=await(0,z.addScriptDirectoryAndExtIfNeeded)(_,this.getAttribute("using"),".wasm")),this.getAttribute("js")&&(f=await(0,z.addScriptDirectoryAndExtIfNeeded)(_,this.getAttribute("js"),"")),this.getAttribute("with")){const o=await Promise.all(this.getAttribute("with").split(";").map(c=>(0,z.addScriptDirectoryAndExtIfNeeded)(_,c,".wasm")));a=a.concat(o)}const n={event:"init",module:{dynamicLibraries:a,noInitialRun:!0,noExitRuntime:!0},wasmBinaryFile:v,src:m,dst:"out."+this.out,useWebcodec:""==this.getAttribute("use-webcodec"),showStats:this.getAttribute("stats"),showGraph:this.getAttribute("graph"),showReport:this.getAttribute("report"),showLogs:this.getAttribute("logs"),print:this.getAttribute("print"),printErr:this.getAttribute("printErr"),noCleanupOnExit:this.getAttribute("noCleanupOnExit"),mime_type:"wav"==this.out?"audio/wav":null};if(!f)return console.log("Warning! no accessor is used on the universal, using a usual tag instead..."),void e(this.src);try{""==this.getAttribute("use-worker")?this.launchWorker(f,n,e):(0,z.launchNoWorker)(this,f,n,e)}catch{i()}})}connectedCallback(){this.scriptDirectory=0!==this.scriptDirectory.indexOf("blob:")?this.scriptDirectory.substr(0,this.scriptDirectory.replace(/[?#].*/,"").lastIndexOf("/")+1):"",this._decodingPromise=this.universal_decode()}disconnectedCallback(){if(this.worker&&(this.worker.terminate(),this.worker=null),this.urlToRevoke.forEach(e=>URL.revokeObjectURL(e)),this.script){const e=this.getAttribute("using");document.head.removeChild(this.script),this.script=null,window[e]&&(window[e]=null)}}attributeChangedCallback(e,i,p){if(i!==p)switch(e){case"src":break;case"using":this.using_attribute=this.getAttribute("using");break;case"with":this.with_attribute=this.getAttribute("with").split(";").map(m=>m+".wasm");break;case"print":this.print_attribute=document.querySelector(this.getAttribute("print"));break;case"printerr":this.error_attribute=document.querySelector(this.getAttribute("printerr"));break;case"out":this.out=this.getAttribute("out");break;case"use-cache":this.useCache=!0;break;case"use-worker":this.useWorker=!0;break;case"progress":this.printProgess=!0;break;case"script-directory":this.scriptDirectory=this.getAttribute("script-directory")}}static get observedAttributes(){return["src","using","with","print","printerr","out","use-cache","progress","script-directory","use-worker","debug","use-webcodec"]}}$.UniversalAudio=d,customElements.get("universal-audio_"+k)||customElements.define("universal-audio_"+k,d,{extends:"audio"})},192:(ae,$,Q)=>{Object.defineProperty($,"__esModule",{value:!0}),$.UniversalCanvas=void 0;const y=Q(710),z=Q(189),k=Q(837).r;Q(316);class d extends HTMLCanvasElement{constructor(){super(...arguments),this.using_attribute="",this.with_attribute=[],this.out="mp4",this.scriptDirectory=document.currentScript?this.initScriptDirectory(document.currentScript.src):"",this.script=null,this.core=null,this.src="",this.urlToRevoke=[],this._messageHandlerNoWorker=null}initScriptDirectory(e){return 0!==e.indexOf("blob:")?e.substr(0,e.replace(/[?#].*/,"").lastIndexOf("/")+1):""}get decodingPromise(){return this._decodingPromise}get volume(){return(0,z.sendMessageNoWorker)(this,{event:"get_properties",properties:["volume"]})}set volume(e){(0,z.sendMessageNoWorker)(this,{event:"set_properties",properties:{volume:e}})}set muted(e){(0,z.sendMessageNoWorker)(this,{event:"set_properties",properties:{muted:e}})}get muted(){return(0,z.sendMessageNoWorker)(this,{event:"get_properties",properties:["muted"]})}get connected(){return(0,z.sendMessageNoWorker)(this,{event:"get_properties",properties:["connected"]}).connected}set enable_reporting(e){(0,z.sendMessageNoWorker)(this,{event:"set_properties",properties:{enable_reporting:e}})}properties(e){return(0,z.sendMessageNoWorker)(this,{event:"get_properties",properties:e})}play(){(0,z.sendMessageNoWorker)(this,{event:"set_properties",properties:{play:!0}})}pause(){(0,z.sendMessageNoWorker)(this,{event:"set_properties",properties:{pause:!0}})}load(){console.log("load")}canPlayType(e){return""}processMessages(e,i,p){function m(f){return f.replaceAll("[37m","").replaceAll("[0m","")}i.print&&(e.print_attribute?e.print_attribute.value+=m(i.print)+"\n":console.log(i.print)),i.printErr&&(e.error_attribute?e.error_attribute.value+=m(i.printErr)+"\n":console.log(i.printErr))}async universal_decode(){return new Promise(async(e,i)=>{let p="";try{const o=new URL(this.src);"blob:"===o.protocol?p=(await fetch(this.src)).headers.get("Content-Type"):"http:"!==o.protocol&&"https:"!==o.protocol||(p=(await fetch(this.src,{method:"HEAD"})).headers.get("Content-Type"))}catch{console.log("failed to fetch head of the content "+this.src)}let m=this.src,f=null,v=null,a=[];if(this.src&&this.src.endsWith(".bvr")||"application/x-bevara"==p){const o=new y,c=await fetch(this.src);if(!c.ok)return void i();const b=await o.loadAsync(c.blob()),A=await b.file("meta.json").async("string"),x=JSON.parse(A);this.core=x.core;const w=async R=>{if(Array.isArray(R)){const C=(await Promise.all(R.map(N=>b.file(N).async("blob")))).map(N=>URL.createObjectURL(N));return this.urlToRevoke=this.urlToRevoke.concat(C),C}if("string"==typeof R){const C=await b.file(R).async("blob"),N=URL.createObjectURL(C);return this.urlToRevoke.push(N),N}return null};m=await w(x.source),f=await w(x.core+".js"),v=await w(x.core+".wasm"),a=await w(x.decoders.map(R=>R+".wasm"))}const _=this.getAttribute("script-directory")?this.getAttribute("script-directory"):"";if(this.getAttribute("using")&&(this.core=this.getAttribute("using"),f=await(0,z.addScriptDirectoryAndExtIfNeeded)(_,this.getAttribute("using"),".js"),v=await(0,z.addScriptDirectoryAndExtIfNeeded)(_,this.getAttribute("using"),".wasm")),this.getAttribute("js")&&(f=await(0,z.addScriptDirectoryAndExtIfNeeded)(_,this.getAttribute("js"),"")),this.getAttribute("with")){const o=await Promise.all(this.getAttribute("with").split(";").map(c=>(0,z.addScriptDirectoryAndExtIfNeeded)(_,c,".wasm")));a=a.concat(o)}const n={event:"init",self:this,module:{dynamicLibraries:a,canvas:document.getElementById("canvas"),noInitialRun:!0,noExitRuntime:!0},wasmBinaryFile:v,src:this.getAttribute("data-url"),interactive:""==this.getAttribute("interactive"),vr:""==this.getAttribute("vr"),useWebcodec:""==this.getAttribute("use-webcodec"),showStats:this.getAttribute("stats"),showGraph:this.getAttribute("graph"),showReport:this.getAttribute("report"),showLogs:this.getAttribute("logs"),vbench:""==this.getAttribute("vbench"),print:this.getAttribute("print"),printErr:this.getAttribute("printErr"),noCleanupOnExit:this.getAttribute("noCleanupOnExit"),loop:""!=this.getAttribute("noloop"),width:this.getAttribute("width"),height:this.getAttribute("height")};if(!f)return console.log("Warning! no accessor is used on the universal, using a usual tag instead..."),void i(this.src);try{(0,z.launchNoWorker)(this,f,n,e)}catch{i()}})}connectedCallback(){this.setAttribute("id","canvas");const e=this.getAttribute("data-url");try{if(!/^(?:[a-z]+:)?\/\//i.test(e)){const i=`${window.location.origin}/${e.replace(/^\/+/,"")}`;this.src=i}}catch{this.src=e}this._decodingPromise=this.universal_decode()}disconnectedCallback(){if(this.urlToRevoke.forEach(e=>URL.revokeObjectURL(e)),this.script){const e=this.getAttribute("using");document.head.removeChild(this.script),this.script=null,window[e]&&(window[e]=null)}}attributeChangedCallback(e,i,p){if(i!==p)switch(e){case"src":break;case"using":this.using_attribute=this.getAttribute("using");break;case"with":this.with_attribute=this.getAttribute("with").split(";").map(m=>m+".wasm");break;case"print":this.print_attribute=document.querySelector(this.getAttribute("print"));break;case"printerr":this.error_attribute=document.querySelector(this.getAttribute("printerr"));break;case"out":this.out=this.getAttribute("out");break;case"script-directory":this.scriptDirectory=this.getAttribute("script-directory")}}static get observedAttributes(){return["src","using","with","print","printerr","out","progress","script-directory","debug","js","use-webcodec"]}}$.UniversalCanvas=d,customElements.get("universal-canvas_"+k)||customElements.define("universal-canvas_"+k,d,{extends:"canvas"})},307:(ae,$,Q)=>{Object.defineProperty($,"__esModule",{value:!0}),$.UniversalImage=void 0;const y=Q(710),z=Q(189),k=Q(837).r;Q(316);class d extends HTMLImageElement{constructor(){super(...arguments),this.using_attribute="",this.with_attribute=[],this.out="rgb",this.scriptDirectory=document.currentScript?this.initScriptDirectory(document.currentScript.src):"",this.useCache=!1,this.useWorker=!1,this.printProgess=!1,this.cache=null,this.worker=null,this.script=null,this.core=null,this.urlToRevoke=[],this._messageHandlerNoWorker=null}initScriptDirectory(e){return 0!==e.indexOf("blob:")?e.substr(0,e.replace(/[?#].*/,"").lastIndexOf("/")+1):""}get decodingPromise(){return this._decodingPromise}async convertWithCanvas(e,i){const p=await this.properties(["width","height"]);null==this.getAttribute("noCleanupOnExit")&&this.sendMessage({event:"destroy"});const m=new OffscreenCanvas(p.width,p.height),f=new Uint8ClampedArray(await i.arrayBuffer()),v=m.getContext("2d");let a;switch(e){case"rgba":return a=new ImageData(f,p.width,p.height),v.putImageData(a,0,0),await m.convertToBlob();case"rgb":a=new ImageData(p.width,p.height);const _=a.data,n=4*p.width*p.height;let o=0,c=0;for(;c<n;)_[c++]=f[o++],_[c++]=f[o++],_[c++]=f[o++],_[c++]=255;return v.putImageData(a,0,0),await m.convertToBlob()}}async dataURLToSrc(e,i){e&&(this.useCache&&this.cache&&!i&&this.cache.put(this.src,new Response(e)),"rgb"!=this.out&&"rgba"!=this.out||(e=await this.convertWithCanvas(this.out,e)),this.srcset=URL.createObjectURL(e))}async processMessages(e,i,p){function m(f){return f.replaceAll("[37m","").replaceAll("[0m","")}i.print&&(e.print_attribute?e.print_attribute.value+=m(i.print)+"\n":console.log(i.print)),i.printErr&&(e.error_attribute?e.error_attribute.value+=m(i.printErr)+"\n":console.log(i.printErr)),"exit_code"in i&&(i.compileStart&&(e.compileStart=i.compileStart),i.compileEnd&&(e.compileEnd=i.compileEnd),i.decodeStart&&(e.decodeStart=i.decodeStart),i.decodeEnd&&(e.decodeEnd=i.decodeEnd),i.blob?(await e.dataURLToSrc(i.blob,!1),p(e.srcset)):p(null))}properties(e){return this.sendMessage({event:"get_properties",properties:e})}set enable_reporting(e){this.sendMessage({event:"set_properties",properties:{enable_reporting:e}})}sendMessage(e){return this.worker?this.sendMessageWorker(e):(0,z.sendMessageNoWorker)(this,e)}sendMessageWorker(e){return new Promise((i,p)=>{this.worker||p(),this.worker.postMessage(e),this.worker.addEventListener("message",m=>{i(m.data)})})}launchWorker(e,i,p){const m=new Worker(e);m&&(m.postMessage(i),m.addEventListener("message",f=>{this.processMessages(this,f.data,p)})),this.worker=m}async universal_decode(){return this.start=performance.now(),new Promise(async(e,i)=>{if(this.useCache){try{this.cache=this.cache||await caches.open("universal-img_"+k)}catch{}const o=this.cache&&await this.cache.match(this.src);if(o){const c=await o.blob();return this.dataURLToSrc(c,!0),void e(this.srcset)}}let p="";try{const o=new URL(this.src);"blob:"===o.protocol?p=(await fetch(this.src)).headers.get("Content-Type"):"http:"!==o.protocol&&"https:"!==o.protocol||(p=(await fetch(this.src,{method:"HEAD"})).headers.get("Content-Type"))}catch{console.log("failed to fetch head of the content "+this.src)}let m=this.src,f=null,v=null,a=[];if(this.src&&this.src.endsWith(".bvr")||"application/x-bevara"==p){const o=new y,c=await fetch(this.src);if(!c.ok)return void i();const b=await o.loadAsync(c.blob()),A=await b.file("meta.json").async("string"),x=JSON.parse(A);this.core=x.core;const w=async R=>{if(Array.isArray(R)){const C=(await Promise.all(R.map(N=>b.file(N).async("blob")))).map(N=>URL.createObjectURL(N));return this.urlToRevoke=this.urlToRevoke.concat(C),C}if("string"==typeof R){const C=await b.file(R).async("blob"),N=URL.createObjectURL(C);return this.urlToRevoke.push(N),N}return null};m=await w(x.source),f=await w(x.core+".js"),v=await w(x.core+".wasm"),a=await w(x.decoders.map(R=>R+".wasm"))}const _=this.getAttribute("script-directory")?this.getAttribute("script-directory"):"";if(this.getAttribute("using")&&(this.core=this.getAttribute("using"),f=await(0,z.addScriptDirectoryAndExtIfNeeded)(_,this.getAttribute("using"),".js"),v=await(0,z.addScriptDirectoryAndExtIfNeeded)(_,this.getAttribute("using"),".wasm")),this.getAttribute("js")&&(f=await(0,z.addScriptDirectoryAndExtIfNeeded)(_,this.getAttribute("js"),"")),this.getAttribute("with")){const o=await Promise.all(this.getAttribute("with").split(";").map(c=>(0,z.addScriptDirectoryAndExtIfNeeded)(_,c,".wasm")));a=a.concat(o)}const n={event:"init",module:{dynamicLibraries:a,noInitialRun:!0,noExitRuntime:!0},wasmBinaryFile:v,src:m,dst:"out."+this.out,useWebcodec:!1,bench:this.benchmode,showStats:this.getAttribute("stats"),showGraph:this.getAttribute("graph"),showReport:this.getAttribute("report"),showLogs:this.getAttribute("logs"),get:"rgb"==this.out||"rgba"==this.out?["width","height"]:[],print:this.getAttribute("print"),printErr:this.getAttribute("printErr"),noCleanupOnExit:this.getAttribute("noCleanupOnExit")||"rgb"==this.out||"rgba"==this.out};if(!f)return console.log("Warning! no accessor is used on the universal, using a usual tag instead..."),void i(this.src);try{""==this.getAttribute("use-worker")?this.launchWorker(f,n,e):(0,z.launchNoWorker)(this,f,n,e)}catch{i()}})}connectedCallback(){this.benchmode=null!=this.getAttribute("bench"),this._decodingPromise=this.universal_decode()}disconnectedCallback(){if(this.worker?(this.worker.terminate(),this.worker=null):this.sendMessage({event:"destroy"}),this.urlToRevoke.forEach(e=>URL.revokeObjectURL(e)),this.script){const e=this.getAttribute("using");document.head.removeChild(this.script),this.script=null,window[e]&&(window[e]=null)}}attributeChangedCallback(e,i,p){if(i!==p)switch(e){case"src":break;case"using":this.using_attribute=this.getAttribute("using");break;case"with":this.with_attribute=this.getAttribute("with").split(";").map(m=>m+".wasm");break;case"print":this.print_attribute=document.querySelector(this.getAttribute("print"));break;case"printerr":this.error_attribute=document.querySelector(this.getAttribute("printerr"));break;case"out":this.out=this.getAttribute("out");break;case"use-cache":this.useCache=!0;break;case"use-worker":this.useWorker=!0;break;case"progress":this.printProgess=!0;break;case"script-directory":this.scriptDirectory=this.getAttribute("script-directory")}}static get observedAttributes(){return["src","using","with","print","printerr","out","use-cache","progress","script-directory","use-worker","debug","js"]}}$.UniversalImage=d,customElements.get("universal-img_"+k)||customElements.define("universal-img_"+k,d,{extends:"img"})},533:(ae,$,Q)=>{Object.defineProperty($,"__esModule",{value:!0}),$.UniversalVideo=void 0;const y=Q(710),z=Q(189),k=Q(837).r;Q(316);class d extends HTMLVideoElement{constructor(){super(...arguments),this.using_attribute="",this.with_attribute=[],this.out="mp4",this.scriptDirectory=document.currentScript?this.initScriptDirectory(document.currentScript.src):"",this.useCache=!1,this.useWorker=!1,this.printProgess=!1,this.cache=null,this.worker=null,this.script=null,this.core=null,this.urlToRevoke=[],this._messageHandlerNoWorker=null}initScriptDirectory(e){return 0!==e.indexOf("blob:")?e.substr(0,e.replace(/[?#].*/,"").lastIndexOf("/")+1):""}get decodingPromise(){return this._decodingPromise}properties(e){return this.sendMessage({event:"get_properties",properties:e})}set enable_reporting(e){this.sendMessage({event:"set_properties",properties:{enable_reporting:e}})}sendMessage(e){return this.worker?this.sendMessageWorker(e):(0,z.sendMessageNoWorker)(this,e)}sendMessageWorker(e){this.worker&&(this.worker.postMessage(e),this.worker.addEventListener("message",i=>i.data))}dataURLToSrc(e,i){e&&(this.useCache&&this.cache&&!i&&this.cache.put(this.src,new Response(e)),this.src=URL.createObjectURL(e),this.dispatchEvent(new CustomEvent("ready")))}processMessages(e,i,p){function m(f){return f.replaceAll("[37m","").replaceAll("[0m","")}"exit_code"in i&&(i.blob?(e.dataURLToSrc(i.blob,!1),p(e.src)):p(null)),i.print&&(e.print_attribute?e.print_attribute.value+=m(i.print)+"\n":console.log(i.print)),i.printErr&&(e.error_attribute?e.error_attribute.value+=m(i.printErr)+"\n":console.log(i.printErr))}launchWorker(e,i,p){const m=new Worker(e);m&&(m.postMessage(i),m.addEventListener("message",f=>{this.processMessages(this,f.data,p)})),this.worker=m}async universal_decode(){return new Promise(async(e,i)=>{if(this.useCache){try{this.cache=this.cache||await caches.open("universal-video_"+k)}catch{}const o=this.cache&&await this.cache.match(this.src);if(o){const c=await o.blob();return this.dataURLToSrc(c,!0),void e(this.src)}}let p="";try{const o=new URL(this.src);"blob:"===o.protocol?p=(await fetch(this.src)).headers.get("Content-Type"):"http:"!==o.protocol&&"https:"!==o.protocol||(p=(await fetch(this.src,{method:"HEAD"})).headers.get("Content-Type"))}catch{console.log("failed to fetch head of the content "+this.src)}let m=this.src,f=null,v=null,a=[];if(this.src&&this.src.endsWith(".bvr")||"application/x-bevara"==p){const o=new y,c=await fetch(this.src);if(!c.ok)return void i("");const b=await o.loadAsync(c.blob()),A=await b.file("meta.json").async("string"),x=JSON.parse(A);this.core=x.core;const w=async R=>{if(Array.isArray(R)){const C=(await Promise.all(R.map(N=>b.file(N).async("blob")))).map(N=>URL.createObjectURL(N));return this.urlToRevoke=this.urlToRevoke.concat(C),C}if("string"==typeof R){const C=await b.file(R).async("blob"),N=URL.createObjectURL(C);return this.urlToRevoke.push(N),N}return null};m=await w(x.source),f=await w(x.core+".js"),v=await w(x.core+".wasm"),a=await w(x.decoders.map(R=>R+".wasm"))}const _=this.getAttribute("script-directory")?this.getAttribute("script-directory"):"";if(this.getAttribute("using")&&(this.core=this.getAttribute("using"),f=await(0,z.addScriptDirectoryAndExtIfNeeded)(_,this.getAttribute("using"),".js"),v=await(0,z.addScriptDirectoryAndExtIfNeeded)(_,this.getAttribute("using"),".wasm")),this.getAttribute("js")&&(f=await(0,z.addScriptDirectoryAndExtIfNeeded)(_,this.getAttribute("js"),"")),this.getAttribute("with")){const o=await Promise.all(this.getAttribute("with").split(";").map(c=>(0,z.addScriptDirectoryAndExtIfNeeded)(_,c,".wasm")));a=a.concat(o)}const n={event:"init",module:{dynamicLibraries:a,noInitialRun:!0,noExitRuntime:!0},wasmBinaryFile:v,src:m,dst:"out.mp4",transcode:["c=avc"],useWebcodec:""==this.getAttribute("use-webcodec"),showStats:this.getAttribute("stats"),showGraph:this.getAttribute("graph"),showReport:this.getAttribute("report"),showLogs:this.getAttribute("logs"),print:this.getAttribute("print"),printErr:this.getAttribute("printErr"),noCleanupOnExit:this.getAttribute("noCleanupOnExit"),test:this.getAttribute("test")};if(!f)return console.log("Warning! no accessor is used on the universal, using a usual tag instead..."),void i(this.src);try{""==this.getAttribute("use-worker")?this.launchWorker(f,n,e):(0,z.launchNoWorker)(this,f,n,e)}catch{i()}})}connectedCallback(){this._decodingPromise=this.universal_decode()}disconnectedCallback(){if(this.worker&&(this.worker.terminate(),this.worker=null),this.urlToRevoke.forEach(e=>URL.revokeObjectURL(e)),this.script){const e=this.getAttribute("using");document.head.removeChild(this.script),this.script=null,window[e]&&(window[e]=null)}}attributeChangedCallback(e,i,p){if(i!==p)switch(e){case"src":break;case"using":this.using_attribute=this.getAttribute("using");break;case"with":this.with_attribute=this.getAttribute("with").split(";").map(m=>m+".wasm");break;case"print":this.print_attribute=document.querySelector(this.getAttribute("print"));break;case"printerr":this.error_attribute=document.querySelector(this.getAttribute("printerr"));break;case"out":this.out=this.getAttribute("out");break;case"use-cache":this.useCache=!0;break;case"use-worker":this.useWorker=!0;break;case"progress":this.printProgess=!0;break;case"script-directory":this.scriptDirectory=this.getAttribute("script-directory")}}static get observedAttributes(){return["src","using","with","print","printerr","out","use-cache","progress","script-directory","use-worker","debug","js"]}}$.UniversalVideo=d,customElements.get("universal-video_"+k)||customElements.define("universal-video_"+k,d,{extends:"video"})},189:(ae,$,Q)=>{Object.defineProperty($,"__esModule",{value:!0}),$.sendMessageNoWorker=$.launchNoWorker=$.addScriptDirectoryAndExtIfNeeded=void 0;const y=Q(737);async function z(k,d){const l=k.filter(e=>""!=e);for(const e of l)return await(0,y.default)(e+d)?e+d:"";return d}$.addScriptDirectoryAndExtIfNeeded=function(k,d,l){try{const e=new URL(d);return"blob:"===e.protocol?d:z("http:"===e.protocol||"https:"===e.protocol?[]:k.split(";"),d+l)}catch{return z(k.split(";"),d+l)}},$.launchNoWorker=function(k,d,l,e){function i(f,v){var a=f.onload;f.onload="function"!=typeof f.onload?v:function(){a&&a(),v()}}async function p(){k._messageHandlerNoWorker=await window[k.core]();const f=await k._messageHandlerNoWorker({data:l});k.processMessages(k,f,e)}const m=document.querySelectorAll(`script[src$="${d}"]`);if(m.length>0)window[k.core]?p():i(m[0],p);else{const f=document.createElement("script");f.src=d,i(f,p),document.head.appendChild(f),this.script=f}},$.sendMessageNoWorker=function(k,d){if(window[k.core])try{return k._messageHandlerNoWorker({data:d})}catch(l){console.log(l.message)}}},837:(ae,$)=>{$.r=1},737:(ae,$,Q)=>{"use strict";function y(T,{lenient:h=!1}={}){if("string"!=typeof T)throw new TypeError("Expected a string");if((T=T.trim()).includes(" "))return!1;try{return new URL(T),!0}catch{return!!h&&y(`https://${T}`)}}Q.r($),Q.d($,{default:()=>N});const z=T=>null!==T&&"object"==typeof T,k="function"==typeof globalThis.AbortController,d="function"==typeof globalThis.ReadableStream,l="function"==typeof globalThis.FormData,e=(T,h)=>{const S=new globalThis.Headers(T||{}),r=h instanceof globalThis.Headers,D=new globalThis.Headers(h||{});for(const[F,E]of D)r&&"undefined"===E||void 0===E?S.delete(F):S.set(F,E);return S},i=(...T)=>{let h={},S={};for(const r of T){if(Array.isArray(r))Array.isArray(h)||(h=[]),h=[...h,...r];else if(z(r)){for(let[D,F]of Object.entries(r))z(F)&&D in h&&(F=i(h[D],F)),h={...h,[D]:F};z(r.headers)&&(S=e(S,r.headers))}h.headers=S}return h},p=["get","post","put","patch","head","delete"],m={json:"application/json",text:"text/*",formData:"multipart/form-data",arrayBuffer:"*/*",blob:"*/*"},f=[413,429,503],v=Symbol("stop");class a extends Error{constructor(h,S,r){super(h.statusText||String(0===h.status||h.status?h.status:"Unknown response error")),this.name="HTTPError",this.response=h,this.request=S,this.options=r}}class _ extends Error{constructor(h){super("Request timed out"),this.name="TimeoutError",this.request=h}}const n=T=>new Promise(h=>setTimeout(h,T)),c={limit:2,methods:["get","put","head","delete","options","trace"],statusCodes:[408,413,429,500,502,503,504],afterStatusCodes:f},b=(T={})=>{if("number"==typeof T)return{...c,limit:T};if(T.methods&&!Array.isArray(T.methods))throw new Error("retry.methods must be an array");if(T.statusCodes&&!Array.isArray(T.statusCodes))throw new Error("retry.statusCodes must be an array");return{...c,...T,afterStatusCodes:f}},A=2147483647;class x{constructor(h,S={}){if(this._retryCount=0,this._input=h,this._options={credentials:this._input.credentials||"same-origin",...S,headers:e(this._input.headers,S.headers),hooks:i({beforeRequest:[],beforeRetry:[],afterResponse:[]},S.hooks),method:(T=S.method||this._input.method,p.includes(T)?T.toUpperCase():T),prefixUrl:String(S.prefixUrl||""),retry:b(S.retry),throwHttpErrors:!1!==S.throwHttpErrors,timeout:void 0===S.timeout?1e4:S.timeout,fetch:S.fetch||globalThis.fetch.bind(globalThis)},"string"!=typeof this._input&&!(this._input instanceof URL||this._input instanceof globalThis.Request))throw new TypeError("`input` must be a string, URL, or Request");var T;if(this._options.prefixUrl&&"string"==typeof this._input){if(this._input.startsWith("/"))throw new Error("`input` must not begin with a slash when using `prefixUrl`");this._options.prefixUrl.endsWith("/")||(this._options.prefixUrl+="/"),this._input=this._options.prefixUrl+this._input}if(k&&(this.abortController=new globalThis.AbortController,this._options.signal&&this._options.signal.addEventListener("abort",()=>{this.abortController.abort()}),this._options.signal=this.abortController.signal),this.request=new globalThis.Request(this._input,this._options),this._options.searchParams){const F="?"+("string"==typeof this._options.searchParams?this._options.searchParams.replace(/^\?/,""):new URLSearchParams(this._options.searchParams).toString()),E=this.request.url.replace(/(?:\?.*?)?(?=#|$)/,F);!(l&&this._options.body instanceof globalThis.FormData||this._options.body instanceof URLSearchParams)||this._options.headers&&this._options.headers["content-type"]||this.request.headers.delete("content-type"),this.request=new globalThis.Request(new globalThis.Request(E,this.request),this._options)}void 0!==this._options.json&&(this._options.body=JSON.stringify(this._options.json),this.request.headers.set("content-type","application/json"),this.request=new globalThis.Request(this.request,{body:this._options.body}));const r=async()=>{if(this._options.timeout>A)throw new RangeError("The `timeout` option cannot be greater than 2147483647");await n(1);let F=await this._fetch();for(const E of this._options.hooks.afterResponse){const J=await E(this.request,this._options,this._decorateResponse(F.clone()));J instanceof globalThis.Response&&(F=J)}if(this._decorateResponse(F),!F.ok&&this._options.throwHttpErrors)throw new a(F,this.request,this._options);if(this._options.onDownloadProgress){if("function"!=typeof this._options.onDownloadProgress)throw new TypeError("The `onDownloadProgress` option must be a function");if(!d)throw new Error("Streams are not supported in your environment. `ReadableStream` is missing.");return this._stream(F.clone(),this._options.onDownloadProgress)}return F},D=this._options.retry.methods.includes(this.request.method.toLowerCase())?this._retry(r):r();for(const[F,E]of Object.entries(m))D[F]=async()=>{this.request.headers.set("accept",this.request.headers.get("accept")||E);const J=(await D).clone();if("json"===F){if(204===J.status)return"";if(S.parseJson)return S.parseJson(await J.text())}return J[F]()};return D}_calculateRetryDelay(h){if(this._retryCount++,this._retryCount<this._options.retry.limit&&!(h instanceof _)){if(h instanceof a){if(!this._options.retry.statusCodes.includes(h.response.status))return 0;const S=h.response.headers.get("Retry-After");if(S&&this._options.retry.afterStatusCodes.includes(h.response.status)){let r=Number(S);return Number.isNaN(r)?r=Date.parse(S)-Date.now():r*=1e3,void 0!==this._options.retry.maxRetryAfter&&r>this._options.retry.maxRetryAfter?0:r}if(413===h.response.status)return 0}return.3*2**(this._retryCount-1)*1e3}return 0}_decorateResponse(h){return this._options.parseJson&&(h.json=async()=>this._options.parseJson(await h.text())),h}async _retry(h){try{return await h()}catch(S){const r=Math.min(this._calculateRetryDelay(S),A);if(0!==r&&this._retryCount>0){await n(r);for(const D of this._options.hooks.beforeRetry)if(await D({request:this.request,options:this._options,error:S,retryCount:this._retryCount})===v)return;return this._retry(h)}if(this._options.throwHttpErrors)throw S}}async _fetch(){for(const D of this._options.hooks.beforeRequest){const F=await D(this.request,this._options);if(F instanceof Request){this.request=F;break}if(F instanceof Response)return F}return!1===this._options.timeout?this._options.fetch(this.request.clone()):(h=this.request.clone(),S=this.abortController,r=this._options,new Promise((D,F)=>{const E=setTimeout(()=>{S&&S.abort(),F(new _(h))},r.timeout);r.fetch(h).then(D).catch(F).then(()=>{clearTimeout(E)})}));var h,S,r}_stream(h,S){const r=Number(h.headers.get("content-length"))||0;let D=0;return new globalThis.Response(new globalThis.ReadableStream({async start(F){const E=h.body.getReader();S&&S({percent:0,transferredBytes:0,totalBytes:r},new Uint8Array),await async function J(){const{done:Z,value:V}=await E.read();Z?F.close():(S&&(D+=V.byteLength,S({percent:0===r?0:D/r,transferredBytes:D,totalBytes:r},V)),F.enqueue(V),await J())}()}}))}}const w=(...T)=>{for(const h of T)if((!z(h)||Array.isArray(h))&&void 0!==h)throw new TypeError("The `options` argument must be an object");return i({},...T)},R=T=>{const h=(S,r)=>new x(S,w(T,r));for(const S of p)h[S]=(r,D)=>new x(r,w(T,D,{method:S}));return h.HTTPError=a,h.TimeoutError=_,h.create=S=>R(w(S)),h.extend=S=>R(w(T,S)),h.stop=v,h},C=R(),N=async T=>{if("string"!=typeof T)throw new TypeError("Expected a string, got "+typeof T);if(!y(T))return!1;const h=await C.head(T,{throwHttpErrors:!1});return void 0!==h&&(h.status<400||h.status>=500)}}},qe={};function be(ae){var $=qe[ae];if(void 0!==$)return $.exports;var Q=qe[ae]={exports:{}};return Ke[ae](Q,Q.exports,be),Q.exports}be.d=(ae,$)=>{for(var Q in $)be.o($,Q)&&!be.o(ae,Q)&&Object.defineProperty(ae,Q,{enumerable:!0,get:$[Q]})},be.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch{if("object"==typeof window)return window}}(),be.o=(ae,$)=>Object.prototype.hasOwnProperty.call(ae,$),be.r=ae=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(ae,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(ae,"__esModule",{value:!0})},(()=>{const ae=be(837).r,$=be(307);customElements.get("universal-img_"+ae)||customElements.define("universal-img_"+ae,$.UniversalImage,{extends:"img"});const Q=be(472);customElements.get("universal-audio_"+ae)||customElements.define("universal-audio_"+ae,Q.UniversalAudio,{extends:"audio"});const y=be(533);customElements.get("universal-video_"+ae)||customElements.define("universal-video_"+ae,y.UniversalVideo,{extends:"video"});const z=be(192);customElements.get("universal-canvas_"+ae)||customElements.define("universal-canvas_"+ae,z.UniversalCanvas,{extends:"canvas"})})()})();